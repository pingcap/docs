---
title: tiup cluster clean
summary: tiup cluster cleanコマンドは、クラスターをリセットし、データとログを削除します。オプションには、--all、--data、--log、--ignore-node、--ignore-role、-h、--helpがあります。本番環境では使用しないでください。
---

# tiup cluster clean {#tiup-cluster-clean}

テスト環境では、クラスターをデプロイされたばかりの状態にリセットする必要がある場合があります。これは、すべてのデータを削除することを意味します。 `tiup cluster clean`コマンドを使用して簡単に実行できます。実行後、クラスターが停止され、クラスターデータが削除されます。クラスターを手動で再起動すると、クリーンなクラスターが得られます。

> **警告：**
>
> このコマンドは、ログのクリーンアップのみを選択した場合でも、最初にクラスターを停止します。したがって、本番環境では使用しないでください。

## 構文 {#syntax}

```shell
tiup cluster clean <cluster-name> [flags]
```

`<cluster-name>`はクリーンアップするクラスターです。

## オプション {#options}

### &#x20;--all {#all}

-   データとログを同時にクリーンアップします。 `--data`と`--log`を同時に指定したことに相当します。
-   データ型: `BOOLEAN`
-   このオプションはデフォルトでは無効になっており、デフォルト値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加して、値`true`渡すか、値を渡さないことができます。
-   指定しない場合は、次のオプションの少なくとも 1 つを指定する必要があります。
    -   --data: データをクリーンアップします
    -   --log: ログを消去します

### &#x20;--data {#data}

-   データをクリーンアップします。どちらも`--all`指定されていない場合、データは消去されません。
-   データ型: `BOOLEAN`
-   このオプションはデフォルトでは無効になっており、デフォルト値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加して、値`true`渡すか、値を渡さないことができます。

### &#x20;--log {#log}

-   ログをクリーンアップします。どちらも`--all`指定されていない場合、ログは消去されません。
-   データ型: `BOOLEAN`
-   このオプションはデフォルトでは無効になっており、デフォルト値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加して、値`true`渡すか、値を渡さないことができます。

### --ignore-node {#ignore-node}

-   クリーニングが必要ないノードを指定します。複数のノードを指定するには、このオプションを複数回使用できます。たとえば、 `--ignore-node <node-A> --ignore-node <node-B>` 。
-   データ型: `StringArray`
-   デフォルト: 空

### --ignore-role {#ignore-role}

-   クリーニングが必要ないロールを指定します。複数のロールを指定するには、このオプションを複数回使用できます。たとえば、 `--ignore-role <role-A> --ignore-role <role-B>` 。
-   データ型: `StringArray`
-   デフォルト: 空

### -h, --help {#h-help}

-   ヘルプ情報を出力します。
-   データ型: `BOOLEAN`
-   このオプションはデフォルトでは無効になっており、デフォルト値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加して、値`true`渡すか、値を渡さないことができます。

## 出力 {#output}

tiup-clusterの実行ログ。

[&lt;&lt; 前のページに戻る - TiUPクラスタコマンド リスト](/tiup/tiup-component-cluster.md#command-list)
