---
title: tiup cluster clean
---

# tiup cluster clean {#tiup-cluster-clean}

テスト環境では、クラスターをデプロイ直後の状態にリセットする必要がある場合があります。これは、すべてのデータを削除することを意味します。 `tiup cluster clean`コマンドで簡単にできます。実行後、クラスタを停止し、クラスタ データを削除します。クラスターを手動で再起動すると、クリーンなクラスターが得られます。

> **警告：**
>
> ログのクリーンアップのみを選択した場合でも、このコマンドは最初にクラスターを停止します。したがって、本番環境では使用しないでください。

## 構文 {#syntax}

```shell
tiup cluster clean <cluster-name> [flags]
```

`<cluster-name>`は、クリーニングするクラスターです。

## オプション {#options}

### &#x20;--all {#all}

-   データとログを同時に消去します。 `--data`と`--log`同時に指定するのと同じです。
-   データ型: `BOOLEAN`
-   このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加して、値`true`渡すか、値を何も渡さないようにします。
-   指定されていない場合は、次のオプションの少なくとも 1 つを指定する必要があります。
    -   --data: データを消去します
    -   --log: ログを消去します

### &#x20;--data {#data}

-   データを消去します。 it も`--all`指定されていない場合、データは消去されません。
-   データ型: `BOOLEAN`
-   このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加して、値`true`渡すか、値を何も渡さないようにします。

### &#x20;--log {#log}

-   ログを消去します。 it も`--all`指定されていない場合、ログは消去されません。
-   データ型: `BOOLEAN`
-   このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加して、値`true`渡すか、値を何も渡さないようにします。

### --ignore-node {#ignore-node}

-   クリーニングが不要なノードを指定します。複数のノードを指定するには、このオプションを複数回使用できます。たとえば、 `--ignore-node <node-A> --ignore-node <node-B>`です。
-   データ型: `StringArray`
-   デフォルト: 空

### --ignore-role {#ignore-role}

-   クリーニングが不要なロールを指定します。複数のロールを指定するには、このオプションを複数回使用できます。たとえば、 `--ignore-role <role-A> --ignore-role <role-B>`です。
-   データ型: `StringArray`
-   デフォルト: 空

### -h, --help {#h-help}

-   ヘルプ情報を出力します。
-   データ型: `BOOLEAN`
-   このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加して、値`true`渡すか、値を何も渡さないようにします。

## 出力 {#output}

tiup-clusterの実行ログ。

[&lt;&lt; 前のページに戻る - TiUP クラスタコマンド一覧](/tiup/tiup-component-cluster.md#command-list)
