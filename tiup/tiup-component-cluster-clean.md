---
title: tiup cluster clean
summary: tiup cluster clean コマンドは、クラスターを停止してすべてのデータを削除することで、テスト環境でクラスターをリセットするために使用されます。データ、ログ、またはその両方を消去するオプションがあり、特定のノードまたはロールを無視できます。本番環境では注意して使用してください。
---

# tiup cluster clean {#tiup-cluster-clean}

テスト環境では、クラスターをデプロイした直後の状態にリセットして、すべてのデータを削除する必要がある場合があります。これは、 `tiup cluster clean`コマンドを使用して簡単に実行できます。これを実行すると、クラスターが停止し、クラスター データが削除されます。クラスターを手動で再起動すると、クリーンなクラスターが得られます。

> **警告：**
>
> このコマンドは、ログのクリーンアップのみを選択した場合でも、最初にクラスターを停止します。したがって、本番環境では使用しないでください。

## 構文 {#syntax}

```shell
tiup cluster clean <cluster-name> [flags]
```

`<cluster-name>`クリーンアップするクラスターです。

## オプション {#options}

### &#x20;--all {#all}

-   データとログを同時にクリーンアップします。1と`--log` `--data`同時に指定するのと同じです。
-   データ型: `BOOLEAN`
-   このオプションはデフォルトでは無効になっており、デフォルト値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加し、値`true`を渡すか、値を渡さないようにします。
-   指定されていない場合は、少なくとも次のいずれかのオプションを指定する必要があります。
    -   --data: データをクリーンアップします
    -   --log: ログを消去します

### &#x20;--data {#data}

-   データをクリーンアップします。どちらも指定されていない場合、または`--all`指定されていない場合、データはクリーンアップされません。
-   データ型: `BOOLEAN`
-   このオプションはデフォルトでは無効になっており、デフォルト値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加し、値`true`を渡すか、値を渡さないようにします。

### &#x20;--log {#log}

-   ログを消去します。どちらも指定されてい`--all`場合、ログは消去されません。
-   データ型: `BOOLEAN`
-   このオプションはデフォルトでは無効になっており、デフォルト値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加し、値`true`を渡すか、値を渡さないようにします。

### --ノードを無視 {#ignore-node}

-   クリーニングが不要なノードを指定します。複数のノードを指定するには、このオプションを複数回使用します。たとえば、 `--ignore-node <node-A> --ignore-node <node-B>` 。
-   データ型: `StringArray`
-   デフォルト: 空

### --ignore-role {#ignore-role}

-   クリーニングが不要なロールを指定します。複数のロールを指定するには、このオプションを複数回使用します。たとえば、 `--ignore-role <role-A> --ignore-role <role-B>` 。
-   データ型: `StringArray`
-   デフォルト: 空

### -h, --help {#h-help}

-   ヘルプ情報を出力します。
-   データ型: `BOOLEAN`
-   このオプションはデフォルトでは無効になっており、デフォルト値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加し、値`true`を渡すか、値を渡さないようにします。

## 出力 {#output}

tiup-clusterの実行ログ。

[&lt;&lt; 前のページに戻る - TiUPクラスタコマンド リスト](/tiup/tiup-component-cluster.md#command-list)
