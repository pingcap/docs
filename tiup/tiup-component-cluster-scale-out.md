---
title: tiup cluster scale-out
summary: tiup cluster scale-outコマンドは、クラスタに新しいノードを追加するために使用されます。このコマンドは、新しいノードへのSSH接続を確立し、必要なディレクトリを作成し、設定を更新します。オプションには、ユーザー名（-u）、IDファイル（-i）、パスワード（-p）、ラベルチェックをスキップする--no-labels 、ユーザーチェックをスキップする --skip-create-user 、ヘルプ（-h）があります。出力はスケールアウトのログです。
---

# tiup cluster scale-out {#tiup-cluster-scale-out}

`tiup cluster scale-out`コマンドはクラスタのスケールアウトに使用されます。クラスタのスケールアウトの内部ロジックは、クラスタのデプロイメントと同様です。tiup tiup-clusterコンポーネントは、まず新しいノードへの SSH 接続を確立し、ターゲットノードに必要なディレクトリを作成し、その後デプロイメントを実行してサービスを起動します。

PD がスケールアウトされると、参加操作によって新しい PD ノードがクラスターに追加され、PD に関連付けられているサービスの構成が更新され、他のサービスは直接開始されてクラスターに追加されます。

## 構文 {#syntax}

```shell
tiup cluster scale-out <cluster-name> <topology.yaml> [flags]
```

`<cluster-name>` : 操作対象のクラスターの名前。クラスター名を忘れた場合は、 [`cluster list`](/tiup/tiup-component-dm-list.md)コマンドで確認できます。

`<topology.yaml>` : 準備された[トポロジファイル](/tiup/tiup-dm-topology-reference.md)このトポロジファイルには、現在のクラスターに追加される新しいノードのみを含める必要があります。

## オプション {#options}

### -u, --user {#u-user}

-   ターゲットマシンへの接続に使用するユーザー名を指定します。このユーザーは、ターゲットマシン上でシークレットフリーのsudo root権限を持っている必要があります。
-   データ型: `STRING`
-   デフォルト: コマンドを実行する現在のユーザー。

### -i, --identity_file {#i-identity-file}

-   ターゲット マシンに接続するために使用するキー ファイルを指定します。
-   データ型: `STRING`
-   コマンドでこのオプションを指定しない場合は、デフォルトで`~/.ssh/id_rsa`ファイルを使用してターゲット マシンに接続します。

### -p, --パスワード {#p-password}

-   ターゲットマシンへの接続に使用するパスワードを指定します。このオプションと`-i/--identity_file`同時に使用しないでください。
-   データ型: `BOOLEAN`
-   デフォルト: false

### --no-labels {#no-labels}

-   このオプションはラベル チェックをスキップするために使用されます。
-   2つ以上のTiKVノードを同じ物理マシンにデプロイすると、リスクが生じます。PDはクラスタトポロジを把握していないため、同じ物理マシン上の異なるTiKVノードにリージョンのレプリカを複数スケジュールしてしまう可能性があり、その結果、この物理マシンが単一障害点となります。このリスクを回避するには、ラベルを使用して、同じリージョンを同じマシンにスケジュールしないようにPDに指示することができます。ラベルの設定については、 [トポロジラベルによるレプリカのスケジュール](/schedule-replicas-by-topology-labels.md)参照してください。
-   テスト環境では、このリスクは問題にならない可能性があり、 `--no-labels`使用してチェックをスキップできます。
-   データ型: `BOOLEAN`
-   デフォルト: false

### --skip-create-user {#skip-create-user}

-   クラスタのデプロイメント中、 tiup-cluster はトポロジファイルで指定されたユーザー名が存在するかどうかを確認します。存在しない場合は、ユーザー名を作成します。このチェックをスキップするには、 `--skip-create-user`オプションを使用します。
-   データ型: `BOOLEAN`
-   デフォルト: false

### -h, --help {#h-help}

-   ヘルプ情報を出力します。
-   データ型: `BOOLEAN`
-   デフォルト: false

## 出力 {#output}

スケールアウトのログ。

[&lt;&lt; 前のページに戻る - TiUPクラスタコマンド リスト](/tiup/tiup-component-cluster.md#command-list)
