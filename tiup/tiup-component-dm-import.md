---
title: tiup dm import
---

# tiup dm import {#tiup-dm-import}

DM v1.0では、クラスタは基本的にTiDBAnsibleを使用してデプロイされます。 TiUP DMは、v1.0クラスターをインポートし、DMv2.0でクラスターを再デプロイするための`import`のコマンドを提供します。

> **ノート：**
>
> -   このコマンドは、DMv1.0クラスターからのDMポータルコンポーネントのインポートをサポートしていません。
> -   クラスタをインポートする前に、最初に元のクラスタの実行を停止してください。
> -   v2.0にアップグレードする必要があるデータ移行タスクの場合、これらのタスクで`stop-task`を実行しないでください。
> -   このコマンドは、DMv2.0.0-rc.2以降のバージョンへのインポートのみをサポートします。
> -   `import`コマンドは、DMv1.0クラスタを新しいDMv2.0クラスターにインポートするために使用されクラスタ。データ移行タスクを既存のv2.0クラスタにインポートする必要がある場合は、 [TiDBデータ移行をv1.0.xからv2.0+に手動でアップグレードする](/dm/manually-upgrade-dm-1.0-to-2.0.md)を参照してください。
> -   一部のコンポーネントのデプロイメントディレクトリは、元のクラスタのものとは異なる場合があります。 `display`コマンドで確認できます。
> -   クラスタをインポートする前に、 `tiup update --self && tiup update dm`を実行してTiUPDMコンポーネントを最新バージョンにアップグレードします。
> -   クラスタがインポートされた後、クラスターにはDMマスターノードが1つだけありクラスタ。 [`scale out`コマンド](/tiup/tiup-component-dm-scale-out.md)を参照して、DMマスターノードをスケールアウトできます。

## 構文 {#syntax}

```shell
tiup dm import [flags]
```

## オプション {#options}

### -v、-cluster-version {#v-cluster-version}

-   再デプロイするバージョン番号を指定します。 v2.0.0-rc.2以降のバージョン（v2.0.0-rc.2を含む）を使用する必要があります。
-   データ型： `STRING`
-   このオプションは、コマンドを実行するために**必要です**。

### -d、-dir {#d-dir}

-   TiDBAnsibleのディレクトリを指定します。
-   データ型： `STRING`
-   このオプションがコマンドで指定されていない場合、現在のディレクトリがデフォルトのディレクトリになります。

### - 在庫 {#inventory}

-   Ansibleインベントリファイルの名前を指定します。
-   データ型： `STRING`
-   このオプションがコマンドで指定されていない場合、デフォルトのファイル名は`"inventory.ini"`です。

### --名前を変更 {#rename}

-   インポートされたクラスタの名前を変更します。
-   データ型： `STRING`
-   このオプションがコマンドで指定されていない場合、デフォルトのクラスタ名はインベントリファイルで指定された`cluster_name`です。

### -h、-help {#h-help}

-   ヘルプ情報を出力します。
-   データ型： `BOOLEAN`
-   このオプションは、デフォルトで`false`の値で無効になっています。このオプションを有効にするには、このオプションをコマンドに追加し、 `true`の値を渡すか、値を渡さないようにします。

## 出力 {#outputs}

インポートプロセスのログ。

[&lt;&lt;前のページに戻る-TiUPDMコマンドリスト](/tiup/tiup-component-dm.md#command-list)
