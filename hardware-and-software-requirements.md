---
title: Software and Hardware Recommendations
summary: Learn the software and hardware recommendations for deploying and running TiDB.
---

# ソフトウェアおよびハードウェアの推奨事項 {#software-and-hardware-recommendations}

<!-- Localization note for TiDB:

- English: use distributed SQL, and start to emphasize HTAP
- Chinese: can keep "NewSQL" and emphasize one-stop real-time HTAP ("一栈式实时 HTAP")
- Japanese: use NewSQL because it is well-recognized

-->

TiDB は、高性能なオープンソースの分散 SQL データベースとして、Intelアーキテクチャサーバー、ARMアーキテクチャサーバー、および主要な仮想化環境にデプロイでき、適切に動作します。 TiDB は、主要なハードウェア ネットワークと Linux オペレーティング システムのほとんどをサポートしています。

## OS とプラットフォームの要件 {#os-and-platform-requirements}

v6.5 LTS では、TiDB は、オペレーティング システムと CPU アーキテクチャの組み合わせに関するさまざまな品質基準に対してマルチレベルのサポートを提供します。

-   次のオペレーティング システムと CPU アーキテクチャの組み合わせに対して、TiDB は**エンタープライズ レベルの本番品質を提供し**、製品の機能は包括的かつ体系的に検証されています。

    | オペレーティングシステム                                                                         | サポートされている CPU アーキテクチャ           |
    | :----------------------------------------------------------------------------------- | :------------------------------ |
    | Red Hat Enterprise Linux 8.4 以降の 8.x バージョン                                           | <li>x86\_64</li><li>アーム 64</li> |
    | <li>Red Hat Enterprise Linux 7.3 以降の 7.x バージョン</li><li>CentOS 7.3 以降の 7.x バージョン</li> | <li>x86\_64</li><li>アーム 64</li> |
    | アマゾンリナックス 2                                                                          | <li>x86\_64</li><li>アーム 64</li> |
    | キリン オイラー V10 SP1/SP2                                                                 | <li>x86\_64</li><li>アーム 64</li> |
    | UOS V20                                                                              | <li>x86\_64</li><li>アーム 64</li> |

    > **ノート：**
    >
    > [CentOS Linux EOL](https://www.centos.org/centos-linux-eol/)によると、CentOS Linux 8 のアップストリーム サポートは 2021 年 12 月 31 日に終了しました。CentOS ストリーム 8 は、CentOS 組織によって引き続きサポートされます。

-   次のオペレーティング システムと CPU アーキテクチャの組み合わせでは、TiDB をコンパイル、ビルド、およびデプロイできます。さらに、OLTP、OLAP、およびデータ ツールの基本機能も使用できます。ただし、TiDB は**エンタープライズ レベルの本番品質を保証しません**。

    | オペレーティングシステム                              | サポートされている CPU アーキテクチャ           |
    | :---------------------------------------- | :------------------------------ |
    | macOS Catalina 以降                         | <li>x86\_64</li><li>アーム 64</li> |
    | Oracle Enterprise Linux 7.3 以降の 7.x バージョン | x86_64                          |
    | Ubuntu LTS 18.04 以降                       | x86_64                          |
    | CentOS 8 ストリーム                            | <li>x86\_64</li><li>アーム 64</li> |
    | Debian 9 (ストレッチ) 以降                       | x86_64                          |
    | Fedora 35 以降                              | x86_64                          |
    | v15.3 以降の openSUSE Leap (Tumbleweed を除く)  | x86_64                          |
    | SUSE Linux エンタープライズ サーバー 15               | x86_64                          |

    > **ノート：**
    >
    > -   Oracle Enterprise Linux の場合、TiDB は Red Hat Compatible Kernel (RHCK) をサポートしますが、Oracle Enterprise Linux が提供する Unbreakable Enterprise Kernel はサポートしません。
    > -   Ubuntu 16.04 のサポートは、TiDB の将来のバージョンでは削除される予定です。 Ubuntu 18.04 以降にアップグレードすることを強くお勧めします。

-   上記の 2 つの表に記載されている 32 ビット バージョンのオペレーティング システムを使用している場合、TiDB は 32 ビット オペレーティング システムおよび対応する CPUアーキテクチャ上でコンパイル、ビルド、または展開可能であることが**保証されていないか**、TiDB が積極的に適応していません。 32 ビット オペレーティング システムに。

-   上記以外のオペレーティング システムのバージョンは動作する可能性がありますが、公式にはサポートされていません。

### TiDB のコンパイルと実行に必要なライブラリ {#libraries-required-for-compiling-and-running-tidb}

| TiDB のコンパイルとビルドに必要なライブラリ | バージョン                 |
| :----------------------- | :-------------------- |
| Golang                   | 1.18.5                |
| さび                       | nightly-2022-07-31 以降 |
| GCC                      | 7.x                   |
| LLVM                     | 13.0以降                |

TiDBの実行に必要なライブラリ: glibc (2.28-151.el8版）

## ソフトウェアの推奨事項 {#software-recommendations}

### 制御機 {#control-machine}

| ソフトウェア | バージョン   |
| :----- | :------ |
| sshパス  | 1.06以降  |
| TiUP   | 1.5.0以降 |

> **ノート：**
>
> TiDB クラスターを操作および管理するには、 [制御マシンにTiUPを展開する](/production-deployment-using-tiup.md#step-2-deploy-tiup-on-the-control-machine)必要があります。

### 対象マシン {#target-machines}

| ソフトウェア | バージョン     |
| :----- | :-------- |
| sshパス  | 1.06以降    |
| 沼      | 2.0.12 以降 |
| タール    | どれでも      |

## サーバーの推奨事項 {#server-recommendations}

TiDB は、Intel x86-64アーキテクチャの 64 ビット汎用ハードウェアサーバープラットフォーム、または ARMアーキテクチャのハードサーバープラットフォームにデプロイして実行できます。開発、テスト、および本番環境のサーバーハードウェア構成に関する要件と推奨事項 (オペレーティング システム自体が占有するリソースは無視) は次のとおりです。

### 開発およびテスト環境 {#development-and-test-environments}

|    成分   |  CPU  |  メモリー  |  ローカルストレージ  |        通信網       |     インスタンス番号 (最小要件)    |
| :-----: | :---: | :----: | :---------: | :--------------: | :--------------------: |
|   TiDB  |  8コア+ | 16GB以上 | 特別な要件はありません | ギガビット ネットワーク カード |  1 (PD と同じマシンにデプロイ可能)  |
|    PD   |  4コア+ |  8GB以上 |  SAS、200GB+ | ギガビット ネットワーク カード | 1 (TiDB と同じマシンにデプロイ可能) |
|   TiKV  |  8コア+ | 32GB以上 |  SAS、200GB+ | ギガビット ネットワーク カード |            3           |
| TiFlash | 32コア+ | 64GB以上 |  SSD、200GB+ | ギガビット ネットワーク カード |            1           |
|  TiCDC  |  8コア+ | 16GB以上 |  SAS、200GB+ | ギガビット ネットワーク カード |            1           |

> **ノート：**
>
> -   テスト環境では、TiDB と PD インスタンスを同じサーバーにデプロイできます。
> -   パフォーマンス関連のテストでは、テスト結果の正確性を保証するために、パフォーマンスの低いstorageおよびネットワーク ハードウェア構成を使用しないでください。
> -   TiKVサーバーの場合、NVMe SSD を使用してより高速な読み取りと書き込みを行うことをお勧めします。
> -   機能のテストと検証のみを行う場合は、 [TiDB のクイック スタート ガイド](/quick-start-with-tidb.md)に従って TiDB を 1 台のマシンにデプロイします。
> -   TiDBサーバーはディスクを使用してサーバーログを保存するため、テスト環境ではディスクの種類と容量に関する特別な要件はありません。
> -   v6.3.0 以降、Linux AMD64アーキテクチャでTiFlashをデプロイするには、CPU が AVX2 命令セットをサポートしている必要があります。 `cat /proc/cpuinfo | grep avx2`に出力があることを確認します。 Linux ARM64アーキテクチャでTiFlashを展開するには、CPU が ARMv8 命令セットアーキテクチャをサポートしている必要があります。 `cat /proc/cpuinfo | grep 'crc32' | grep 'asimd'`に出力があることを確認します。命令セットの拡張機能を使用することで、TiFlash のベクトル化エンジンはパフォーマンスを向上させることができます。

### 本番環境 {#production-environment}

|    成分   |   CPU  |   メモリー  | ハードディスクの種類 |             通信網             | インスタンス番号 (最小要件) |
| :-----: | :----: | :-----: | :--------: | :-------------------------: | :-------------: |
|   TiDB  |  16コア+ |  48GB以上 |     SSD    | 10 ギガビット ネットワーク カード (2 枚推奨) |        2        |
|    PD   |  8コア+  |  16GB以上 |     SSD    | 10 ギガビット ネットワーク カード (2 枚推奨) |        3        |
|   TiKV  |  16コア+ |  64GB以上 |     SSD    | 10 ギガビット ネットワーク カード (2 枚推奨) |        3        |
| TiFlash | 48コア以上 | 128GB以上 | 1 つ以上の SSD | 10 ギガビット ネットワーク カード (2 枚推奨) |        2        |
|  TiCDC  |  16コア+ |  64GB以上 |     SSD    | 10 ギガビット ネットワーク カード (2 枚推奨) |        2        |
|   モニター  |  8コア+  |  16GB以上 |     SAS    |       ギガビット ネットワーク カード      |        1        |

> **ノート：**
>
> -   本番環境では、TiDB と PD インスタンスを同じサーバーにデプロイできます。パフォーマンスと信頼性に関してより高い要件がある場合は、それらを個別に展開してみてください。
> -   本番環境ではより高い構成を使用することを強くお勧めします。
> -   PCIe SSD を使用している場合は 2 TB 以内、通常の SSD を使用している場合は 1.5 TB 以内に TiKV ハードディスクのサイズを維持することをお勧めします。

TiFlashを展開する前に、次の点に注意してください。

-   TiFlash は[複数のディスクに展開](/tiflash/tiflash-configuration.md#multi-disk-deployment)にすることができます。
-   TiFlashデータ ディレクトリの最初のディスクとして高性能 SSD を使用して、TiKV データのリアルタイム レプリケーションをバッファリングすることをお勧めします。このディスクのパフォーマンスは、PCI-E SSD などの TiKV のパフォーマンスよりも低くなってはいけません。ディスク容量は、総容量の 10% 以上にする必要があります。そうしないと、このノードのボトルネックになる可能性があります。他のディスクに通常の SSD を展開できますが、PCI-E SSD が優れているほどパフォーマンスが向上することに注意してください。
-   TiKV とは異なるノードにTiFlashをデプロイすることをお勧めします。 TiFlashと TiKV を同じノードにデプロイする必要がある場合は、CPU コアとメモリの数を増やし、 TiFlashと TiKV を別のディスクにデプロイして相互に干渉しないようにしてください。
-   TiFlashディスクの合計容量は、 `the data volume of the entire TiKV cluster to be replicated / the number of TiKV replicas * the number of TiFlash replicas`のように計算されます。たとえば、TiKV の全体的な計画容量が 1 TB、TiKV レプリカの数が 3、 TiFlashレプリカの数が 2 の場合、 TiFlashの推奨合計容量は`1024 GB / 3 * 2`です。一部のテーブルのデータのみを複製できます。その場合、複製するテーブルのデータ量に応じてTiFlashの容量を決定してください。

TiCDC を展開する前に、1 TB を超える PCIe-SSD ディスクに TiCDC を展開することをお勧めします。

## ネットワーク要件 {#network-requirements}

<!-- Localization note for TiDB:

- English: use distributed SQL, and start to emphasize HTAP
- Chinese: can keep "NewSQL" and emphasize one-stop real-time HTAP ("一栈式实时 HTAP")
- Japanese: use NewSQL because it is well-recognized

-->

オープンソースの分散 SQL データベースとして、TiDB を実行するには次のネットワーク ポート構成が必要です。実際の環境での TiDB の展開に基づいて、管理者はネットワーク側とホスト側で関連するポートを開くことができます。

|         成分        | デフォルトのポート | 説明                                                    |
| :---------------: | :-------: | :---------------------------------------------------- |
|        TiDB       |    4000   | アプリケーションおよび DBA ツール用の通信ポート                            |
|        TiDB       |   10080   | TiDB ステータスを報告するための通信ポート                               |
|        TiKV       |   20160年  | TiKV通信ポート                                             |
|        TiKV       |   20180年  | TiKV ステータスを報告するための通信ポート                               |
|         PD        |    2379   | TiDB と PD 間の通信ポート                                     |
|         PD        |    2380   | PD クラスタ内のノード間通信ポート                                    |
|      TiFlash      |    9000   | TiFlash TCP サービス ポート                                  |
|      TiFlash      |    8123   | TiFlash HTTP サービス ポート                                 |
|      TiFlash      |    3930   | TiFlash RAFT およびコプロセッサーサービス ポート                       |
|      TiFlash      |   20170年  | TiFlashプロキシ サービス ポート                                  |
|      TiFlash      |   20292   | Prometheus がTiFlash Proxy メトリックをプルするためのポート            |
|      TiFlash      |    8234   | Prometheus がTiFlashメトリクスをプルするためのポート                   |
|        Pump       |    8250   | Pump通信ポート                                             |
|      Drainer      |    8249   | Drainer通信ポート                                          |
|       TiCDC       |    8300   | TiCDC通信ポート                                            |
|       モニタリング      |    9090   | Prometheus サービスの通信ポート                                 |
|       モニタリング      |   12020   | NgMonitoring サービスの通信ポート                               |
|   Node_exporter   |    9100   | すべての TiDB クラスター ノードのシステム情報を報告するための通信ポート               |
| Blackbox_exporter |    9115   | Blackbox_exporter 通信ポート。TiDB クラスター内のポートを監視するために使用されます |
|       グラファナ       |    3000   | 外部 Web 監視サービスおよびクライアント (ブラウザ) アクセス用のポート               |
|     アラートマネージャー    |    9093   | アラート Web サービスのポート                                     |
|     アラートマネージャー    |    9094   | アラート通信ポート                                             |

## ディスク容量要件 {#disk-space-requirements}

| 成分      | ディスク容量要件                                                                                                                                                                                                                                                                                                                 | 健全なディスク使用率 |
| :------ | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------- |
| TiDB    | ログディスク用に少なくとも 30 GB                                                                                                                                                                                                                                                                                                      | 90%未満      |
| PD      | データ ディスクとログ ディスクにそれぞれ 20 GB 以上                                                                                                                                                                                                                                                                                           | 90%未満      |
| TiKV    | データ ディスクとログ ディスクにそれぞれ 100 GB 以上                                                                                                                                                                                                                                                                                          | 80%未満      |
| TiFlash | データ ディスクに 100 GB 以上、ログ ディスクに 30 GB 以上、それぞれ                                                                                                                                                                                                                                                                               | 80%未満      |
| TiUP    | <li>制御マシン: 単一バージョンの TiDB クラスターをデプロイするために必要なスペースは 1 GB 未満です。複数のバージョンの TiDB クラスターをデプロイすると、必要なスペースが増加します。</li><li>展開サーバー (TiDB コンポーネントが実行されるマシン): TiFlash は約 700 MB のスペースを占有し、その他のコンポーネント (PD、TiDB、TiKV など) はそれぞれ約 200 MB のスペースを占有します。クラスターの展開プロセス中、 TiUPクラスターは、一時ファイルを格納するために 1 MB 未満の一時スペース ( `/tmp`ディレクトリ) を必要とします。</li> | なし         |
| モニタリング  | <li>Conprof: 3 x 1 GB x コンポーネントの数 (各コンポーネントは1 日あたり約 1 GB、合計 3 日を占めます) + 20 GB の予約済みスペース</li><li>Top SQL: 30 x 50 MB x コンポーネントの数 (各コンポーネントは1 日あたり約 50 MB、合計で 30 日を占めます)</li><li> Conprof とTop SQL は予約済みスペースを共有します</li>                                                                                                    | なし         |

## Web ブラウザーの要件 {#web-browser-requirements}

TiDB は[グラファナ](https://grafana.com/)に依存して、データベース メトリックの視覚化を提供します。 Javascript が有効になっている最新バージョンの Internet Explorer、Chrome、または Firefox で十分です。
