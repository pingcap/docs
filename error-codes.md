---
title: Error Codes and Troubleshooting
summary: TiDB のエラー コードと解決策について学習します。
---

# エラーコードとトラブルシューティング {#error-codes-and-troubleshooting}

このドキュメントでは、TiDB の使用中に発生する問題について説明し、解決策を示します。

## エラーコード {#error-codes}

TiDB は MySQL のエラー コードと互換性があり、ほとんどの場合、MySQL と同じエラー コードを返します。MySQL のエラー コードの一覧については、 [MySQL 8.0 エラーメッセージリファレンス](https://dev.mysql.com/doc/mysql-errors/8.0/en/)参照してください。また、TiDB には次の固有のエラー コードがあります。

> **注記：**
>
> 一部のエラー コードは内部エラーを表します。通常、TiDB はエラーをユーザーに返すのではなく処理するため、一部のエラー コードはここには記載されていません。
>
> ここに記載されていないエラー コードが発生した場合は、PingCAP またはコミュニティから[サポートを受ける](/support.md)お問い合わせください。

-   エラー番号: 8001

    リクエストによって使用されたメモリが、TiDBメモリ使用量のしきい値制限を超えています。

    システム変数[`tidb_mem_quota_query`](/system-variables.md#tidb_mem_quota_query)を構成して、単一の SQL ステートメントのメモリ制限を増やします。

-   エラー番号: 8002

    一貫性を保証するために、コミットの競合が発生した場合、 `SELECT FOR UPDATE`ステートメントのトランザクションは再試行できません。TiDB はトランザクションをロールバックし、このエラーを返します。

    アプリケーションはトランザクション全体を安全に再試行できます。

-   エラー番号: 8003

    [`ADMIN CHECK TABLE`](/sql-statements/sql-statement-admin-check-table-index.md)コマンドの実行時に行のデータがインデックスと一致しない場合、TiDB はこのエラーを返します。このエラーは、テーブル内のデータ破損をチェックするときによく見られます。

    PingCAP またはコミュニティから[サポートを受ける](/support.md)取得できます。

-   エラー番号: 8004

    1回のトランザクションが大きすぎます。

    原因と解決策については[エラーメッセージ`transaction too large`](/faq/migration-tidb-faq.md#the-error-message-transaction-too-large-is-displayed)参照してください。

-   エラー番号: 8005

    完全なエラーメッセージ: `ERROR 8005 (HY000): Write Conflict, txnStartTS is stale`

    TiDB のトランザクションで書き込み競合が発生しました。アプリケーション ロジックを確認し、書き込み操作を再試行してください。

-   エラー番号: 8018

    プラグインを再ロードするときに、そのプラグインが以前にロードされていない場合は、このエラーが返されます。

    プラグインの初期ロードを実行できます。

-   エラー番号: 8019

    再ロード中のプラグインのバージョンが以前のバージョンと異なります。そのため、プラグインを再ロードできず、このエラーが返されます。

    プラグインのバージョンが以前のものと同じであることを確認して、プラグインをリロードできます。

-   エラー番号: 8020

    テーブルがロックされているときに、テーブルに対して書き込み操作を実行すると、このエラーが返されます。

    テーブルのロックを解除し、書き込み操作を再試行してください。

-   エラー番号: 8021

    TiKV から読み取るキーが存在しない場合、このエラーが返されます。このエラーは内部的に使用され、外部結果は空の読み取りになります。

-   エラー番号: 8022

    トランザクションのコミットが失敗し、ロールバックされました。

    アプリケーションはトランザクション全体を安全に再試行できます。

-   エラー番号: 8023

    トランザクション キャッシュの書き込み時に空の値を設定すると、このエラーが返されます。このエラーは内部で使用および処理され、アプリケーションには返されません。

-   エラー番号: 8024

    無効なトランザクション。実行中のトランザクションのトランザクション ID (開始タイムスタンプ) が取得されていないことを TiDB が検出した場合、このトランザクションは無効であるため、このエラーが返されます。

    通常、このエラーは発生しません。このエラーが発生した場合は、PingCAP またはコミュニティから[サポートを受ける](/support.md)要求してください。

-   エラー番号: 8025

    書き込まれている単一のキーと値のペアが大きすぎます。TiDB でサポートされる単一のキーと値のペアの最大サイズは、デフォルトで 6 MB です。

    ペアがこの制限を超える場合は、制限を緩和するために[`txn-entry-size-limit`](/tidb-configuration-file.md#txn-entry-size-limit-new-in-v4010-and-v500)構成値を適切に調整する必要があります。

-   エラー番号: 8026

    使用されているインターフェース関数は実装されていません。このエラーは内部的にのみ使用され、アプリケーションには返されません。

-   エラー番号: 8027

    テーブル スキーマのバージョンが古くなっています。TiDB はスキーマの変更をオンラインで適用します。TiDBサーバーのテーブル スキーマ バージョンがシステム全体のバージョンよりも古い場合、SQL ステートメントを実行するとこのエラーが返されます。

    このエラーが発生した場合は、TiDBサーバーと PDLeader間のネットワークを確認してください。

-   エラー番号: 8028

    v6.3.0 以降、TiDB は[メタデータロック](/metadata-lock.md)機能を導入しています。メタデータ ロックが無効になっている状態でトランザクションを実行すると、トランザクションはテーブル スキーマの変更を認識できません。そのため、トランザクションがコミットされるときに、TiDB はトランザクションに関連するテーブル スキーマをチェックします。実行中に関連するテーブル スキーマが変更された場合、トランザクションのコミットはこのエラーで失敗します。この時点で、アプリケーションはトランザクション全体を安全に再試行できます。

    メタデータ ロックが Read Committed 分離レベル以外で有効になっている場合、トランザクションの開始から初めてテーブルにアクセスするためにテーブルで損失のある列タイプの変更 (たとえば、 `INT`から`CHAR`への変更は損失があり、 `TINYINT`から`INT`への変更はデータの上書きが不要なため損失はありません) が発生すると、トランザクションが自動的にロールバックされずにクエリが失敗します。他のステートメントの実行を続行し、トランザクションをロールバックするかコミットするかを決定できます。

-   エラー番号: 8029

    このエラーは、データベース内の数値変換でエラーが発生した場合に発生します。このエラーは内部でのみ使用され、外部アプリケーションでは特定のタイプのエラーに変換されます。

-   エラー番号: 8030

    符号なしの正の整数を符号付き整数に変換すると、最大値を超えてしまい、負の整数として表示されます。このエラーは、主に警告メッセージで発生します。

-   エラー番号: 8031

    符号なし整数に変換すると、負の整数が正の整数に変換されます。このエラーは主に警告メッセージで発生します。

-   エラー番号: 8032

    無効な`year`形式が使用されています。3 `year` 1、2、または 4 桁のみを受け入れます。

-   エラー番号: 8033

    無効な値`year`が使用されています。3 の有効な範囲は (1901, 2155 `year`です。

-   エラー番号: 8037

    `week`関数で無効な`mode`形式が使用されています。5 `mode` [0, 7] 内の 1 桁である必要があります。

-   エラー番号: 8038

    フィールドはデフォルト値を取得できません。このエラーは通常は内部的に使用され、外部アプリケーションでは特定のタイプのエラーに変換されます。

-   エラー番号: 8040

    サポートされていない操作が実行されます。たとえば、ビューまたはシーケンスに対してテーブル ロック操作を実行します。

-   エラー番号: 8047

    システム変数の値はサポートされていません。このエラーは通常、ユーザーがデータベースでサポートされていない変数値を設定した場合にアラーム情報で発生します。

-   エラー番号: 8048

    サポートされていないデータベース分離レベルが設定されています。

    サードパーティのツールまたはフレームワークを使用しているためにコードを変更できない場合は、 [`tidb_skip_isolation_level_check`](/system-variables.md#tidb_skip_isolation_level_check)使用してこのチェックをバイパスすることを検討してください。

    ```sql
    set @@tidb_skip_isolation_level_check = 1;
    ```

-   エラー番号: 8050

    サポートされていない権限タイプが設定されています。

    解決策については[TiDB操作に必要な権限](/privilege-management.md#privileges-required-for-tidb-operations)参照してください。

-   エラー番号: 8051

    TiDB がクライアントから送信された Exec 引数リストを解析するときに、不明なデータ型が検出されました。

    このエラーが発生した場合は、クライアントを確認してください。クライアントが正常であれば、PingCAP またはコミュニティから[サポートを受ける](/support.md)提供されます。

-   エラー番号: 8052

    クライアントからのデータ パケットのシリアル番号が正しくありません。

    このエラーが発生した場合は、クライアントを確認してください。クライアントが正常であれば、PingCAP またはコミュニティから[サポートを受ける](/support.md)提供されます。

-   エラー番号: 8055

    現在のスナップショットは古すぎます。データがガベージ コレクションされた可能性があります。この問題を回避するには、値を[`tidb_gc_life_time`](/system-variables.md#tidb_gc_life_time-new-in-v50)に増やします。TiDB は、長時間実行されるトランザクションのデータを自動的に予約します。通常、このエラーは発生しません。

    [ガベージコレクションの概要](/garbage-collection-overview.md)と[ガベージコレクションの設定](/garbage-collection-configuration.md)参照してください。

-   エラー番号: 8059

    自動ランダム ID が使い果たされ、割り当てることができません。現在、このようなエラーから回復する方法はありません。自動ランダム機能を使用して割り当ての最大数を取得する場合は、bigint を使用することをお勧めします。また、自動ランダム列に手動で値を割り当てないようにしてください。

    参考として[自動ランダム](/auto-random.md)参照してください。

-   エラー番号: 8060

    自動増分オフセットが無効です。 `auto_increment_increment`と`auto_increment_offset`の値を確認してください。

-   エラー番号: 8061

    サポートされていない SQL ヒント。

    SQL ヒントを確認して変更するには、 [オプティマイザーのヒント](/optimizer-hints.md)参照してください。

-   エラー番号: 8062

    SQL ヒントで無効なトークンが使用されています。SQL ヒントの予約語と競合しています。

    SQL ヒントを確認して変更するには、 [オプティマイザーのヒント](/optimizer-hints.md)参照してください。

-   エラー番号: 8063

    SQL ヒントで設定されたメモリ使用量の制限がシステムの上限を超えています。SQL ヒントの設定は無視されます。

    SQL ヒントを確認して変更するには、 [オプティマイザーのヒント](/optimizer-hints.md)参照してください。

-   エラー番号: 8064

    SQLヒントの解析に失敗しました。

    SQL ヒントを確認して変更するには、 [オプティマイザーのヒント](/optimizer-hints.md)参照してください。

-   エラー番号: 8065

    SQL ヒントに無効な整数が使用されています。

    SQL ヒントを確認して変更するには、 [オプティマイザーのヒント](/optimizer-hints.md)参照してください。

-   エラー番号: 8066

    `JSON_OBJECTAGG`関数の 2 番目のパラメータが無効です。

-   エラー番号: 8101

    プラグイン ID の形式が正しくありません。

    正しい形式は`[name]-[version]`であり、 `name`と`version`では`-`許可されません。

-   エラー番号: 8102

    プラグイン定義情報を読み取ることができません。

    プラグインに関連する設定を確認してください。

-   エラー番号: 8103

    プラグイン名が正しくありません。

    プラグインの設定を確認してください。

-   エラー番号: 8104

    プラグインのバージョンが一致しません。

    プラグインの設定を確認してください。

-   エラー番号: 8105

    プラグインが繰り返し読み込まれます。

-   エラー番号: 8106

    プラグインは、名前がプラグイン名で始まらないシステム変数を定義します。

    変更するには、プラグインの開発者に連絡するか[サポートを受ける](/support.md) PingCAP またはコミュニティに問い合わせてください。

-   エラー番号: 8107

    読み込まれたプラグインにバージョンが指定されていないか、指定されたバージョンが低すぎます。

    プラグインの設定を確認してください。

-   エラー番号: 8108

    サポートされていない実行プラン タイプです。このエラーは内部エラーです。

    このエラーが発生した場合は、PingCAP またはコミュニティから[サポートを受ける](/support.md)要求してください。

-   エラー番号: 8109

    インデックスを分析するときに、指定されたインデックスが見つかりません。

-   エラー番号: 8110

    デカルト積演算を実行できません。

    構成の`cross-join` `true`に設定します。

-   エラー番号: 8111

    `EXECUTE`番目のステートメントを実行すると、対応する`Prepare`のステートメントが見つかりません。

-   エラー番号: 8112

    `EXECUTE`番目のステートメントのパラメータの数が`Prepare`ステートメントと一致していません。

-   エラー番号: 8113

    `Prepare`番目のステートメントが実行された後、 `EXECUTE`ステートメントに関連するテーブル スキーマが変更されました。

-   エラー番号: 8115

    複数行のステートメントを準備することはサポートされていません。

-   エラー番号: 8116

    DDL ステートメントの準備はサポートされていません。

-   エラー番号: 8120

    トランザクションの`start tso`取得できません。

    PDサーバーの状態/モニター/ログ、および TiDBサーバーと PDサーバー間のネットワークを確認します。

-   エラー番号: 8121

    権限チェックに失敗しました。

    データベースの権限構成を確認してください。

-   エラー番号: 8122

    ワイルドカードを指定しても、対応するテーブル名が見つかりません。

-   エラー番号: 8123

    集計関数を含む SQL クエリは集計されていない列を返しますが、これは`only_full_group_by`モードに違反します。

    SQL ステートメントを変更するか、 `only_full_group_by`モードを無効にします。

-   エラー番号: 8129

    TiDB は、キー長が 65536 以上の JSON オブジェクトをまだサポートしていません。

-   エラー番号: 8130

    完全なエラーメッセージ: `ERROR 8130 (HY000): client has multi-statement capability disabled`

    このエラーは、TiDB の以前のバージョンからアップグレードした後に発生する可能性があります。SQL インジェクション攻撃の影響を軽減するために、TiDB ではデフォルトで`COM_QUERY`呼び出しで複数のクエリが実行されないようにするようになりました。

    システム変数[`tidb_multi_statement_mode`](/system-variables.md#tidb_multi_statement_mode-new-in-v4011)使用してこの動作を制御できます。

-   エラー番号: 8138

    トランザクションは不正な行値を書き込もうとしています。詳細については、 [データとインデックス間の不整合のトラブルシューティング](/troubleshoot-data-inconsistency-errors.md#error-8138)参照してください。

-   エラー番号: 8139

    トランザクションは、インデックス内のハンドルと一致しない行の書き込みを試行します。詳細については、 [データとインデックス間の不整合のトラブルシューティング](/troubleshoot-data-inconsistency-errors.md#error-8139)参照してください。

-   エラー番号: 8140

    トランザクションは、インデックス データと一致しないデータを持つ行を書き込もうとしています。詳細については、 [データとインデックス間の不整合のトラブルシューティング](/troubleshoot-data-inconsistency-errors.md#error-8140)参照してください。

-   エラー番号: 8141

    トランザクションがコミットされているときに、キーの存在アサーションが失敗します。詳細については、 [データとインデックス間の不整合のトラブルシューティング](/troubleshoot-data-inconsistency-errors.md#error-8141)参照してください。

-   エラー番号: 8143

    非トランザクション DML ステートメントの実行中にバッチが失敗すると、ステートメントは停止します。詳細については、 [非トランザクションDMLステートメント](/non-transactional-dml.md)参照してください。

-   エラー番号: 8147

    [`tidb_constraint_check_in_place_pessimistic`](/system-variables.md#tidb_constraint_check_in_place_pessimistic-new-in-v630) `OFF`に設定すると、トランザクションの正確性を確保するために、SQL ステートメントの実行中にエラーが発生すると、TiDB はこの`8147`エラーを返し、現在のトランザクションを中止することがあります。エラーの具体的な原因については、エラー メッセージを参照してください。詳細については、 [制約](/constraints.md#pessimistic-transactions)参照してください。

-   エラー番号: 8154

    現在、 `LOAD DATA`​​ TiDBサーバーからのローカルデータのインポートをサポートしていません。 `LOCAL`指定してクライアントからインポートするか、データを S3 または GCS にアップロードしてからインポートすることができます。 [`LOAD DATA`](/sql-statements/sql-statement-load-data.md)を参照してください。

-   エラー番号: 8156

    指定されたパスは空にできません。インポートする前に正しいパスを設定する必要があります。

-   エラー番号: 8157

    指定されたファイル形式はサポートされていません。サポートされている形式については、 [`IMPORT INTO`](/sql-statements/sql-statement-import-into.md#format)参照してください。

-   エラー番号: 8158

    指定されたパスは無効です。対処方法については、特定のエラー メッセージを参照してください。Amazon S3 または GCS パス設定については、 [外部ストレージサービスの URI 形式](/external-storage-uri.md)参照してください。

-   エラー番号: 8159

    TiDB は指定された Amazon S3 または GCS パスにアクセスできません。指定された S3 または GCS バケットが存在し、TiDB が対応するバケットにアクセスするための正しいアクセス キーとシークレット アクセス キーが指定されていることを確認してください。

-   エラー番号: 8160

    データ ファイルの読み取りに失敗しました。アクションについては、特定のエラー メッセージを参照してください。

-   エラー番号: 8162

    ステートメントにエラーがあります。アクションについては、特定のエラー メッセージを参照してください。

-   エラー番号: 8163

    指定されたオプションは不明です。サポートされているオプションについては、 [`IMPORT INTO`](/sql-statements/sql-statement-import-into.md#parameter-description)参照してください。

-   エラー番号: 8164

    指定されたオプション値が無効です。有効な値については、 [`IMPORT INTO`](/sql-statements/sql-statement-import-into.md#parameter-description)参照してください。

-   エラー番号: 8165

    重複したオプションが指定されています。各オプションは 1 回だけ指定できます。

-   エラー番号: 8166

    特定のオプションは特定の条件でのみ使用できます。対処方法については、特定のエラー メッセージを参照してください。サポートされているオプションについては、 [`IMPORT INTO`](/sql-statements/sql-statement-import-into.md#parameter-description)参照してください。

-   エラー番号: 8170

    指定されたジョブは存在しません。

-   エラー番号: 8171

    現在のジョブ ステータスでは、現在の操作を実行できません。アクションについては、特定のエラー メッセージを参照してください。

-   エラー番号: 8173

    `IMPORT INTO`実行すると、TiDB はダウンストリーム テーブルが空かどうかなど、現在の環境をチェックします。アクションについては、特定のエラー メッセージを参照してください。

-   エラー番号: 8200

    DDL 構文はまだサポートされていません。

    参考として[MySQL DDLの互換性](/mysql-compatibility.md#ddl-operations)参照してください。

-   エラー番号: 8214

    DDL 操作は`admin cancel`操作によって終了します。

-   エラー番号: 8215

    [`ADMIN REPAIR TABLE`](/sql-statements/sql-statement-admin.md#admin-repair-statement)失敗します。

    このエラーが発生した場合は、PingCAP またはコミュニティから[サポートを受ける](/support.md)要求してください。

-   エラー番号: 8216

    `AUTO_RANDOM`列の使い方が間違っています。

    変更するには[`AUTO_RANDOM`](/auto-random.md)参照してください。

-   エラー番号: 8223

    このエラーは、データがインデックスと一致していないことを検出したときに発生します。

    このエラーが発生した場合は、PingCAP またはコミュニティから[サポートを受ける](/support.md)要求してください。

-   エラー番号: 8224

    DDL ジョブが見つかりません。

    `restore`操作で指定されたジョブ ID が存在するかどうかを確認します。

-   エラー番号: 8225

    DDL 操作は完了しており、キャンセルできません。

-   エラー番号: 8226

    DDL 操作はほぼ完了しており、キャンセルできません。

-   エラー番号: 8227

    シーケンスの作成時にサポートされていないオプションが使用されています。

    サポートされているオプションのリストについては、 [シーケンスのドキュメント](/sql-statements/sql-statement-create-sequence.md#parameters)参照してください。

-   エラー番号: 8228

    シーケンスで`SETVAL`使用すると、サポートされていない型が指定されます。

    関数の例については[シーケンスのドキュメント](/sql-statements/sql-statement-create-sequence.md#examples)参照してください。

-   エラー番号: 8229

    トランザクションが存続時間を超過しました。

    現在のトランザクションをコミットまたはロールバックし、新しいトランザクションを開始します。

-   エラー番号: 8230

    TiDB は現在、新しく追加された列のデフォルト値としてシーケンス を使用することをサポートしておらず、使用するとこのエラーが報告されます。

-   エラー番号: 8248

    リソース グループは既に存在します。リソース グループが繰り返し作成されると、このエラーが返されます。

-   エラー番号: 8249

    リソース グループが存在しません。存在しないリソース グループを変更またはバインドすると、このエラーが返されます。 [リソースグループを作成する](/tidb-resource-control.md#create-a-resource-group)参照してください。

-   エラー番号: 8250

    完全なエラー メッセージは次のとおりです。

    `ERROR 8250 (HY000) : Resource control feature is disabled. Run "SET GLOBAL tidb_enable_resource_control='on'" to enable the feature`

    このエラーは、リソース制御機能を使用しようとしたが有効になっていない場合に返されます。グローバル変数[`tidb_enable_resource_control`](/system-variables.md#tidb_enable_resource_control-new-in-v660)をオンにすると、リソース制御が有効になります。

-   エラー番号: 8251

    `Resource Control`コンポーネントは、TiDB の起動時に初期化されます。関連する構成は、 `Resource Control`のサーバー側の`Resource Manager`から取得されます。このプロセス中にエラーが発生した場合、このエラーが返されます。

-   エラー番号: 8252

    完全なエラー メッセージは次のとおりです。

    `ERROR 8252 (HY000) : Exceeded resource group quota limitation`

    このエラーは、試行された消費量がリソース グループの制限を超えた場合に返されます。このエラーは通常、単一のトランザクションが大きすぎるか、同時トランザクションが多すぎるために発生します。トランザクション サイズを調整するか、同時クライアントの数を減らす必要があります。

-   エラー番号: 8253

    クエリはランナウェイ クエリの条件を満たしているため停止します。 [ランナウェイクエリ](/tidb-resource-control.md#manage-queries-that-consume-more-resources-than-expected-runaway-queries)を参照してください。

-   エラー番号: 8254

    クエリは、ランナウェイ クエリの隔離監視条件を満たしているため停止します。 [ランナウェイクエリ](/tidb-resource-control.md#manage-queries-that-consume-more-resources-than-expected-runaway-queries)を参照してください。

-   エラー番号: 8260

    DDL 操作は`ADMIN PAUSE`で一時停止できません。

-   エラー番号: 8261

    DDL 操作は`ADMIN RESUME`では再開できません。

-   エラー番号: 8262

    DDL は`ADMIN PAUSE`一時停止され、再度一時停止することはできません。

-   エラー番号: 8263

    この DDL は、特定の BDR ロールでは実行できません。クラスターが[双方向レプリケーション](/ticdc/ticdc-bidirectional-replication.md)であることを確認してください。クラスターが双方向レプリケーションでない場合は、 `ADMIN UNSET BDR ROLE;`使用して DDL を正常化できます。

-   エラー番号: 9001

    完全なエラーメッセージ: `ERROR 9001 (HY000): PD server timeout`

    PD 要求がタイムアウトしました。

    PDサーバーのステータス、監視データ、ログ、および TiDBサーバーと PDサーバー間のネットワークを確認します。

-   エラー番号: 9002

    完全なエラーメッセージ: `ERROR 9002 (HY000): TiKV server timeout`

    TiKV 要求がタイムアウトしました。

    TiKVサーバーのステータス、監視データ、ログ、および TiDBサーバーと TiKVサーバー間のネットワークを確認します。

-   エラー番号: 9003

    完全なエラーメッセージ: `ERROR 9003 (HY000): TiKV Server is Busy`

    TiKVサーバーがビジー状態です。これは通常、ワークロードが高すぎる場合に発生します。

    TiKVサーバーのステータス、監視データ、ログを確認します。

-   エラー番号: 9004

    完全なエラーメッセージ: `ERROR 9004 (HY000): Resolve Lock Timeout`

    ロック解決のタイムアウト。このエラーは、データベース内に多数のトランザクション競合が存在する場合に発生します。

    アプリケーション コードをチェックして、データベースにロック競合が存在するかどうかを確認します。

-   エラー番号: 9005

    完全なエラーメッセージ: `ERROR 9005 (HY000): Region is unavailable`

    アクセスされたリージョンまたは特定のRaftグループは使用できません。レプリカが不十分であるなどの理由が考えられます。このエラーは通常、TiKVサーバーがビジー状態であるか、TiKV ノードがダウンしている場合に発生します。

    TiKVサーバーのステータス、監視データ、ログを確認します。

-   エラー番号: 9006

    完全なエラーメッセージ: `ERROR 9006 (HY000): GC life time is shorter than transaction duration`

    間隔`GC Life Time`は短すぎます。長いトランザクションによって読み取られるはずのデータが削除される可能性があります。次のコマンドを使用して[`tidb_gc_life_time`](/system-variables.md#tidb_gc_life_time-new-in-v50)調整できます。

    ```sql
    SET GLOBAL tidb_gc_life_time = '30m';
    ```

    > **注記：**
    >
    > 「30m」は、30 分前に生成されたデータのみをクリーンアップすることを意味します。これにより、追加のstorageスペースが消費される可能性があります。

-   エラー番号: 9500

    1回のトランザクションが大きすぎます。

    解決策については[エラーメッセージ`transaction too large`](/faq/migration-tidb-faq.md#the-error-message-transaction-too-large-is-displayed)参照してください。

-   エラー番号: 9007

    エラーメッセージは`ERROR 9007 (HY000): Write conflict`で始まります。

    エラー メッセージに`reason=LazyUniquenessCheck`含まれている場合、トランザクションが悲観的であり、 `@@tidb_constraint_check_in_place_pessimistic=OFF`が設定されており、アプリケーションの一意のインデックスで書き込み競合が発生していることを意味します。この場合、悲観的トランザクションの正常な実行は保証されません。アプリケーションからトランザクションを再試行するか、変数を`ON`に設定してエラーを回避できます。

-   エラー番号: 9008

    同時に TiKV に送信されるリクエストが多すぎます。数が制限を超えています。

    リクエストのトラフィックの制限を解除するには、 `tidb_store_limit`増やすか、 `0`に設定します。

-   エラー番号: 9010

    TiKV はこのラフト ログを処理できません。

    TiKVサーバーの状態/モニター/ログを確認します。

-   エラー番号: 9012

    TiFlash要求がタイムアウトしました。

    TiFlashサーバーの状態/モニター/ログ、および TiDBサーバーとTiFlashサーバー間のネットワークを確認します。

-   エラー番号: 9013

    TiFlashサーバーがビジー状態です。これは通常、ワークロードが高すぎる場合に発生します。

    TiFlashサーバーの状態/モニター/ログを確認します。

### MySQL ネイティブエラーメッセージ {#mysql-native-error-messages}

-   エラー番号: 2013 (HY000)

    完全なエラーメッセージ: `ERROR 2013 (HY000): Lost connection to MySQL server during query`

    このエラーは次のように処理できます。

    -   ログにpanicがあるかどうかを確認します。
    -   `dmesg -T | grep -i oom`使用して dmesg に OOM が存在するかどうかを確認します。
    -   長時間アクセスがない場合も、このエラーが発生することがあります。通常、これは TCP タイムアウトによって発生します。TCP が長時間使用されない場合、オペレーティング システムによって TCP が強制終了されます。

-   エラー番号: 1105 (HY000)

    完全なエラーメッセージ: `ERROR 1105 (HY000): other error: unknown error Wire Error(InvalidEnumValue(4004))`

    このエラーは通常、TiDB のバージョンが TiKV のバージョンと一致しない場合に発生します。バージョンの不一致を回避するには、バージョンをアップグレードするときにすべてのコンポーネントをアップグレードします。

-   エラー番号: 1148 (42000)

    完全なエラーメッセージ: `ERROR 1148 (42000): the used command is not allowed with this TiDB version`

    `LOAD DATA LOCAL`のステートメントを実行したが、MySQL クライアントがこのステートメントの実行を許可していない場合 ( `local_infile`のオプションの値が 0 の場合)、このエラーが発生します。

    解決策は、MySQL クライアントを起動するときに`--local-infile=1`オプションを使用することです。たとえば、コマンド`mysql --local-infile=1 -u root -h 127.0.0.1 -P 4000`を実行します。デフォルト値`local-infile`は、MySQL クライアントのバージョンによって異なります。したがって、特定の MySQL クライアントで設定する必要があります。

-   エラー番号: 9001 (HY000)

    完全なエラーメッセージ: `ERROR 9001 (HY000): PD server timeout start timestamp may fall behind safe point`

    このエラーは、TiDB が PD にアクセスできない場合に発生します。TiDB のバックグラウンドのワーカーは、PD からセーフポイントを継続的に照会し、100 秒以内に照会に失敗するとこのエラーを報告します。通常、PD 上のディスクが遅くてビジー状態であるか、TiDB と PD 間のネットワークに障害が発生したことが原因です。一般的なエラーの詳細については、 [エラー番号と障害診断](/error-codes.md)参照してください。

-   TiDB ログ エラー メッセージ: EOF エラー

    クライアントまたはプロキシが TiDB から切断された場合、TiDB はすぐに切断を認識しません。代わりに、TiDB は接続にデータを返し始めたときにのみ切断を認識します。この時点で、ログには EOF エラーが出力。

## トラブルシューティング {#troubleshooting}

[トラブルシューティング](/troubleshoot-tidb-cluster.md)と[FAQ](/faq/tidb-faq.md)文書を参照してください。
