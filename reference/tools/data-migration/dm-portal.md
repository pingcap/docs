---
title: DM Portal Overview
summary: This document introduces the features of DM Portal
category: reference
---

# DM Portal Overview

The current Data Migration (DM) provides a variety of features, including [table routing](/reference/tools/data-migration/features/overview.md#table-routing), [black & white table lists](/reference/tools/data-migration/features/overview.md#black-white-table-lists), [binlog event filter](/reference/tools/data-migration/features/overview.md#binlog-event-filter), and [column mapping](/reference/tools/data-migration/features/overview.md#column-mapping). However, these features also increase the complexity of using DM, especially when users are modifying [DM task configurations](/reference/tools/data-migration/configure/task-configuration-file.md).

To address this problem, DM provides a simple web program, DM Portal. DM Portal enables users to visually configure the required replication tasks, and generates a `task.yaml` file that can be directly executed by DM.

## Features

### Configure replication mode

DM Portal supports three replication modes of DM:

- Full replication
- Incremental replication
- All (full + incremental)

### Configure instance information

DM Portal can configure the table replication routing, which supports the configuration of merging sharded tables in DM.

### Configure binlog event filters

DM Portal supports filtering binlog events in databases and tables.

### Generate configuration file

DM Portal can generate configuration files and download the files to the local server. Meanwhile, it automatically creates a file in the `/tmp/` directory on the dm-portal server.

## Restrictions

The current DM Portal can generate visualized pages that cover most scenarios of DM configurations, but it also has some restrictions:

- The SQL pattern of [binlog event filter](/reference/tools/data-migration/features/overview.md#binlog-event-filter) is not supported.
- The editing feature does not support parsing the `task.yaml` file the user created before. The user can only edit the `task.yaml` file generated by the page.
- The editing feature does not support modifying the instance configuration. If the user need to adjust the instance configuration, the `task.yaml` file has to be regenerated.
- The upstream instance configuration on the page can only be used to obtain the upstream table schema. The related upstream instance information still needs to be configured in DM-worker.
- In the generated `task.yaml` file, mydumper-path is `./bin/mydumper` by default. If you use another path, you should modify the generated `task.yaml` file manually.

## Deploy

### Deploy using binary

You can download DM Portal at [dm-portal-latest-linux-amd64.tar.gz](https://download.pingcap.org/dm-portal-latest-linux-amd64.tar.gz). To start DM Portal, run the `./dm-portal` command.

- If you run DM Portal locally, visit `127.0.0.1:8280` in your browser.
- If you run DM Portal on a server, you need to configure a proxy on the server.

### Deploy using DM Ansible

To deploy DM Portal using DM Ansible, refer to [Deploy Data Migration Using DM-Ansible](/how-to/deploy/data-migration-with-ansible.md) for details.

## Usage

### Create rules

This feature is used to create a `task.yaml` file. You need to choose the replication mode, configure the upstream and downstream instances, configure table routing, and configure binlog filters.

#### Operation steps

- log in to the dm-portal page, and click **Create New Rule**.

### Configure basic information

This feature is used to fill in the task name and choose a task type.

#### Prerequisites

**Create New Sync Rule** is already selected.

#### Operation steps

1. Fill in the task name.
2. Choose a task type.

![DM Portal BasicConfig](/media/dm-portal-basicconfig.png)

### Configure instance information

This feature is used to configure the upstream and downstream instance information, including Host, Port, Username and Password.

#### Prerequisites

**Task Name** and **Task Type** are already filled in.

> **Note:**
>
> If you choose **Incremental** or **All** in Task Type, you need to configure binlog-file and binlog-pos when configuring the upstream instance information.

#### Operation steps

1. Fill in the upstream instance information.
2. Fill in the downstream instance information.
3. Click Next.

![DM Portal InstanceConfig](/media/dm-portal-instanceconfig.png)

### Configure binlog filters

This feature is used to filter the upstream binlog. You can choose the DDL or DML that needs to be filtered. The filter configured on the database is automatically inherited by tables in that database.

#### Prerequisites

- The upstream and downstream instance information is configured.
- The connection is verified.

> **Note:**
>
> - The binlog filter configuration can only be modified in the upstream instance. Once the database or table is moved to the downstream instance, the configuration cannot be modified.
> - The binlog filter configured on the database is automatically inherited by tables in that database.

#### Operation steps

1. Select the databases or tables that need to be configured.

2. Click the Edit button, and select the binlog types to be filtered.

![DM Portal InstanceShow](/media/dm-portal-instanceshow.png)

![DM Portal BinlogFilter 1](/media/dm-portal-binlogfilter-1.png)

![DM Portal BinlogFilter 2](/media/dm-portal-binlogfilter-2.png)

### Configure table routing

This feature is used to perform the following operations:

- Select the databases and tables that need to be synced, modify their names, and merge databases and tables
- Revert the last operation
- Reset all configurations of table routing

After the task configuration is completed, DM Portal generates the corresponding `task.yaml` file.

#### Prerequisites

The required binlog filter rules are configured.

> **Note:**
>
> - Batch operation is not supported when you merge databases or tables. You can only drag them one by one.
> - You can only drag tables when you merge databases or tables. You cannot drag databases.

#### Operation steps

1. Select the databases and tables that need to be synced from **Upstream Instance**.

2. Click the Move button and move the selected databases and tables to **Downstream Instance**.
    
    ![DM Portal TableRoute 1](/media/dm-portal-tableroute-1.png)

    ![DM Portal TableRoute 2](/media/dm-portal-tableroute-2.png)

3. Right click the databases and tables to rename them.

    ![DM Portal ChangeTableName](/media/dm-portal-changetablename.png)

4. Select the required table to perform the following operation:
    - To merge two tables, drag the table onto another table

        ![DM Portal MergeTable 1](/media/dm-portal-mergetable-1.png)

        ![DM Portal MergeTable 2](/media/dm-portal-mergetable-2.png)

    - To move the table to an existing database, drag the table onto the database

        ![DM Portal MoveToDB 1](/media/dm-portal-movetodb-1.png)

        ![DM Portal MoveToDB 2](/media/dm-portal-movetodb-2.png)

    - To move the table to a new database, drag the table onto the `target-instance` icon

        ![DM Portal MoveToNewDB 1](/media/dm-portal-movetonewdb-1.png)

        ![DM Portal MoveToNewDB 2](/media/dm-portal-movetonewdb-2.png)

5. Click **Go Back** to undo the last operation.

    ![DM Portal Revert](/media/dm-portal-revert.png)

6. Click **Reset** to clear the downstream instance.

    ![DM Portal Reset](/media/dm-portal-reset.png)

7. Click **Finish & Download**. DM Portal automatically downloads the `task.yaml` file to the local computer, and creates a `task.yaml` configuration file in the `/tmp/` directory on the DM Portal server.
