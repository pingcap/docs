---
title: TiDB Dashboard Cluster Diagnostic Page
summary: TiDB ダッシュクラスタ診断は、クラスターの問題を診断し、結果を Web ページにまとめます。ダッシュボードまたはブラウザーからページにアクセスします。指定された時間範囲の診断レポートと比較レポートを生成します。履歴レポートも利用できます。
---

# TiDB ダッシュボードクラスタ診​​断ページ {#tidb-dashboard-cluster-diagnostics-page}

TiDB ダッシュボードのクラスター診断機能は、指定された時間範囲内でクラスターに存在する可能性のある問題を診断し、診断結果とクラスター関連の負荷監視情報を診断レポートにまとめます。この診断レポートは Web ページの形式です。ブラウザーからページを保存した後、オフラインでページを参照したり、このページのリンクを循環させたりすることができます。

> **注記：**
>
> クラスター診断機能は、クラスターにデプロイされた Prometheus に依存します。この監視コンポーネントをデプロイする方法の詳細については、 [TiUP](/tiup/tiup-overview.md)デプロイメント ドキュメントを参照してください。クラスターに監視コンポーネントがデプロイされていない場合、生成された診断レポートには失敗が示されます。

## ページにアクセスする {#access-the-page}

クラスター診断ページにアクセスするには、次のいずれかの方法を使用できます。

-   TiDB ダッシュボードにログインしたら、左側のナビゲーション メニューで**「クラスタ診断」**をクリックします。

    ![Access Cluster Diagnostics page](/media/dashboard/dashboard-diagnostics-access-v650.png)

-   ブラウザで`http://127.0.0.1:2379/dashboard/#/diagnose`アクセスします。3 `127.0.0.1:2379`実際の PD アドレスとポート番号に置き換えます。

## 診断レポートを生成する {#generate-diagnostic-report}

指定された時間範囲内でクラスターを診断し、クラスターの負荷を確認するには、次の手順に従って診断レポートを生成します。

1.  **範囲開始時刻**を`2022-05-21 14:40:00`などに設定します。
2.  **範囲期間**を`10 min`などに設定します。
3.  **[スタート]を**クリックします。

![Generate diagnostic report](/media/dashboard/dashboard-diagnostics-gen-report-v650.png)

> **注記：**
>
> レポートの**範囲期間は**1 分から 60 分にすることをお勧めします。この**範囲期間は**60 分を超えることはできません。

上記の手順により、 `2022-05-21 14:40:00`から`2022-05-21 14:50:00`までの時間範囲の診断レポートが生成されます。 **[開始]**をクリックすると、以下のインターフェイスが表示されます。 **[進行状況**] は、診断レポートの進行状況バーです。レポートが生成されたら、 **[完全なレポートをビュー] を**クリックします。

![Report progress](/media/dashboard/dashboard-diagnostics-gen-process-v650.png)

## 比較レポートを生成する {#generate-comparison-report}

特定の時点でシステム例外が発生した場合、たとえば QPS ジッターやレイテンシーの上昇など、診断レポートを生成できます。特に、このレポートでは、異常な時間範囲のシステムと正常な時間範囲のシステムを比較します。例:

-   異常時間範囲: `2022-05-21 14:40:00` - `2022-05-21 14:45:00`この時間範囲内では、システムは異常です。
-   正常な時間範囲: `2022-05-21 14:30:00` - `2022-05-21 14:35:00`この時間範囲内では、システムは正常です。

前の 2 つの時間範囲の比較レポートを生成するには、次の手順に従います。

1.  システムが異常になる範囲の**開始時刻である範囲**開始時刻（例： `2022-05-21 14:40:00`を設定します。
2.  **範囲期間**を設定します。通常、この期間は 5 分などのシステム異常の期間です。
3.  **ベースラインによる比較を**有効にします。
4.  **ベースライン範囲開始時刻**を設定します。これは、システムが正常である範囲（比較対象）の開始時刻（ `2022-05-21 14:30:00`など）です。
5.  **[スタート]を**クリックします。

![Generate comparison report](/media/dashboard/dashboard-diagnostics-gen-compare-report-v650.png)

次に、レポートが生成されるまで待ってから、 **「完全なレポートをビュー」**をクリックします。

また、診断レポートのメインページのリストには、過去の診断レポートが表示されます。クリックすると、これらの過去のレポートを直接表示できます。
