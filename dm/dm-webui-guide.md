---
title: Use WebUI to Manage DM migration tasks
summary: WebUI を使用して DM 移行タスクを管理する方法を学習します。
---

# WebUIを使用してDM移行タスクを管理する {#use-webui-to-manage-dm-migration-tasks}

DM WebUIは、TiDBデータ移行（DM）タスクを管理するためのWebベースのGUIプラットフォームです。このプラットフォームは、多数の移行タスクをシンプルかつ直感的に管理できるため、dmctlコマンドラインツールを使用する手間が省けます。

このドキュメントでは、 DM WebUI へのアクセス方法、前提条件、インターフェース上の各ページの使用例、注意点などを紹介します。

> **警告：**
>
> -   DM WebUIは現在実験的機能です。本番環境での使用は推奨されません。
> -   DM WebUIの`task`のライフサイクルが変更され、 DM WebUIと dmctl を同時に使用することは推奨されません。

DM WebUI には次のページがあります。

-   **移住**
    -   **タスク**: タスク作成のエントリを提供し、各移行タスクの詳細情報を表示します。このページでは、移行タスクの監視、作成、削除、および設定を行うことができます。
    -   **ソース**: 移行タスクのアップストリームデータソースの情報を設定します。このページでは、アップストリーム設定の作成と削除、アップストリーム設定に対応するタスクステータスの監視、アップストリーム設定の変更など、データ移行環境におけるアップストリーム設定を管理できます。
    -   **レプリケーション詳細**：移行タスクの詳細なステータス情報を表示します。このページでは、指定したフィルターに基づいて、上流および下流の構成情報やデータベース名、ソーステーブルとターゲットテーブルの関係など、詳細な構成情報とステータス情報を確認できます。
-   **クラスタ**
    -   **メンバー**：DMクラスタ内のすべてのマスターノードとワーカーノードのリスト、およびワーカーノードとソースノード間のバインディング関係を表示します。このページでは、現在のDMクラスタの構成情報と各ワーカーのステータス情報を確認できます。また、基本的な管理機能もこのページで提供されます。

インターフェースは次のとおりです。

![webui](/media/dm/dm-webui-preview-en.png)

## アクセス方法 {#access-method}

[オープンAPI](/dm/dm-open-api.md#maintain-dm-clusters-using-openapi)有効にすると、DM クラスターの任意のマスターノードからDM WebUIにアクセスできます。アクセスポートはデフォルトで`8261`で、DM OpenAPI のポートと同じです。アクセスアドレスの例： `http://{master_ip}:{master_port}/dashboard/` 。

## 移住 {#migration}

**移行には**、**ソース**、**タスク**、および**レプリケーションの詳細**ページが含まれます。

### ソース {#source}

移行タスクを作成する前に、レプリケーションタスクの上流のデータソース情報を作成する必要があります。上流の設定は**「ソース」**ページで作成できます。ソースを作成する際は、以下の点に注意してください。

-   プライマリインスタンスとセカンダリインスタンス間で自動フェイルオーバーが発生する場合は、アップストリーム MySQL で GTID を有効にし、アップストリーム設定を作成するときに GTID を`True`に設定します。そうしないと、フェイルオーバー中に移行タスクが中断されます (AWS Auroraを除く)。
-   MySQLインスタンスを一時的にオフラインにする必要がある場合は、インスタンスを無効化できます。ただし、MySQLインスタンスを無効化している間は、移行タスクを実行している他のMySQLインスタンスはDDL操作を実行しないでください。そうしないと、無効化されたインスタンスは有効化後にデータを正しく移行できません。
-   複数の移行タスクが同じアップストリームを利用する場合、追加の負荷が発生する可能性があります。リレーログを有効にするとアップストリームへの影響を軽減できるため、リレーログを有効にすることを推奨します。

### タスク {#task}

**「タスク」**ページで移行タスクの詳細を表示し、移行タスクを作成できます。

#### 移行タスクの詳細をビュー {#view-migration-task-details}

タスクリストでタスク名をクリックすると、右側の「詳細」ページが表示されます。「詳細」ページには、タスクのより詳細なステータス情報が表示されます。このページでは、各サブタスクのステータスと、移行タスクの現在の構成情報を確認できます。

DMでは、移行タスクの各サブタスクは、フルダンプ -&gt; フルインポート（ロード） -&gt; 増分レプリケーション（同期）といった異なる段階にある場合があります。そのため、タスクの現在の段階はサブタスクのステータスの統計情報とともに表示され、タスクの実行状況をより適切に把握するのに役立ちます。

#### 移行タスクを作成する {#create-migration-tasks}

このページで移行タスクを作成するには、右上隅の「**追加」**ボタンをクリックします。移行タスクを作成するには、以下のいずれかの方法があります。

-   WebUIの指示に従ってください。WebUIで必要な情報を段階的に入力してください。この方法は初心者や日常的な使用に適しています。
-   設定ファイルを使用する。JSON形式の設定ファイルを貼り付けるか書き込むことで、移行タスクを作成できます。この方法は、より多くのパラメータの調整をサポートしており、上級ユーザーに適しています。

### レプリケーションの詳細 {#replication-detail}

移行タスクに設定された移行ルールのステータスは**、「レプリケーションの詳細」**ページで確認できます。このページでは、タスク、ソース、データベース名によるクエリがサポートされています。

クエリ結果には、アップストリーム テーブルとダウンストリーム テーブルの対応する情報が含まれるため、クエリ結果が多すぎるとページの応答が遅くなる可能性があるため、 `.*`使用するときは注意してください。

## クラスタ {#cluster}

### メンバー {#members}

**「メンバー」**ページには、DM クラスター内のすべてのマスター ノードとワーカー ノード、およびワーカー ノードとソース間のバインド関係が表示されます。
