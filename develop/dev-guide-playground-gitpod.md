---
title: Gitpod
---

<!-- markdownlint-disable MD029 -->

# Gitpod

With [Gitpod](https://www.gitpod.io/), you can get a full development environment in your browser with the click of a button or link, and you can write code right away.

Gitpod is an open-source Kubernetes application (GitHub repository address: <https://github.com/gitpod-io/gitpod>) for direct-to-code development environments, which spins up fresh, automated development environments for each task, in the cloud, in seconds. It enables you to describe your development environment as code and start instant, remote and cloud-based development environments directly from your browser or your Desktop IDE.

## Quick start

1. Fork the example code repository [pingcap-inc/tidb-example-java](https://github.com/pingcap-inc/tidb-example-java) for TiDB application development .

2. Start your gitpod workspace by prefixing the URL of the sample code repository with `https://gitpod.io/#` from the browser's address bar.

   - E.g, `https://gitpod.io/#https://github.com/pingcap-inc/tidb-example-java`。

   - Support for configuring environment variables in the URL. E.g, `https://gitpod.io/#targetFile=spring-jpa-hibernate_Makefile,targetMode=spring-jpa-hibernate/https://github.com/pingcap-inc/tidb-example-java`。

3. Log in and start the workspace using one of the providers listed. E.g, `Github`.

## Use default Gitpod configuration and environment

After completing the [quick-start](#quick-start) steps, Gitpod will take a while to set up your workspace.

Take the [Spring Boot Web](/develop/dev-guide-sample-application-spring-boot.md) application as an example. You can create a new workspace by URL `https://gitpod.io/#targetFile=spring-jpa-hibernate_Makefile,targetMode=spring-jpa-hibernate/https://github.com/pingcap-inc/tidb-example-java`.

You will see a page like the one below after all settled.

![playground gitpod workspace init](/media/develop/playground-gitpod-workspace-init.png)

This scenario in the page uses [TiUP](https://docs.pingcap.com/zh/tidb/stable/tiup-overview) to build a TiDB Playground. You can check the progress on the left side of the terminal.

Once the TiDB Playground is ready, another `Spring JPA Hibernate` task will run. You can check the progress on the right side of the terminal.

You can see the page as shown below after all tasks finished. Besides, you can find your port `8080` URL in `REMOTE EXPLORER` in the left nav (Gitpod supports URL-based port forwarding).

![playground gitpod workspace ready](/media/develop/playground-gitpod-workspace-ready.png)

You can test the API by following [the guide](/develop/dev-guide-sample-application-spring-boot.md#step-6-http-request). Do remember to replace the URL `http://localhost:8080` with the one you found in `REMOTE EXPLORER`.

## Using custom Gitpod configuration and Docker image

### Custom Gitpod configuration

In the root directory of the project, create a `.gitpod. yml` file by referring to [example.gitpod.yml](https://github.com/pingcap-inc/tidb-example-java/blob/main/.gitpod.yml), which is used to configure the Gitpod workspace.

```yml
# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

# image:
#   file: .gitpod.Dockerfile

tasks:
  - name: Open Target File
    command: |
      if [ -n "$targetFile" ]; then code ${targetFile//[_]//};  fi
  - name: TiUP init playground
    command: |
      $HOME/.tiup/bin/tiup playground
  - name: Test Case
    openMode: split-right
    init: echo "*** Waiting for TiUP Playground Ready! ***"
    command: |
      gp await-port 3930
      if [ "$targetMode" == "plain-java-jdbc" ]
      then
        cd plain-java-jdbc
        code src/main/resources/dbinit.sql
        code src/main/java/com/pingcap/JDBCExample.java
        make mysql
      elif [ "$targetMode" == "plain-java-hibernate" ]
      then
        cd plain-java-hibernate
        make
      elif [ "$targetMode" == "spring-jpa-hibernate" ]
      then
        cd spring-jpa-hibernate
        make
      fi
ports:
  - port: 8080
    visibility: public
  - port: 4000
    visibility: public
  - port: 2379-36663
    onOpen: ignore
```

### Custom Gitpod Docker image

By default, Gitpod uses a standard Docker image named Workspace-Full as the basis for the workspace. Workspaces launched from this default image come pre-installed with Docker, Go, Java, Node.js, C/C++, Python, Ruby, Rust, PHP, and tools like Homebrew, Tailscale, Nginx, and more.

You can provide a public Docker image or a Dockerfile. and install any required dependencies for your project.

Here is an example Dockerfile: [Example .gitpod.Dockerfile](https://github.com/pingcap-inc/tidb-example-java/blob/main/.gitpod.Dockerfile)

```dockerfile
FROM gitpod/workspace-java-17

RUN sudo apt install mysql-client -y
RUN curl --proto '=https' --tlsv1.2 -sSf https://tiup-mirrors.pingcap.com/install.sh | sh
```

Then you need to update `.gitpod.yml`:

```yml
# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

image:
  # Import your Dockerfile here.
  file: .gitpod.Dockerfile

tasks:
  - name: Open Target File
    command: |
      if [ -n "$targetFile" ]; then code ${targetFile//[_]//};  fi
  - name: TiUP init playground
    command: |
      $HOME/.tiup/bin/tiup playground
  - name: Test Case
    openMode: split-right
    init: echo "*** Waiting for TiUP Playground Ready! ***"
    command: |
      gp await-port 3930
      if [ "$targetMode" == "plain-java-jdbc" ]
      then
        cd plain-java-jdbc
        code src/main/resources/dbinit.sql
        code src/main/java/com/pingcap/JDBCExample.java
        make mysql
      elif [ "$targetMode" == "plain-java-hibernate" ]
      then
        cd plain-java-hibernate
        make
      elif [ "$targetMode" == "spring-jpa-hibernate" ]
      then
        cd spring-jpa-hibernate
        make
      fi
ports:
  - port: 8080
    visibility: public
  - port: 4000
    visibility: public
  - port: 2379-36663
    onOpen: ignore
```

### Apply changes

After completing the configuration of the `.gitpod.yml` file, please ensure that the latest code is available in your corresponding GitHub repository.

Visit `https://gitpod.io/#<YOUR_REPO_URL>` to create a new Gitpod workspace with the latest code applied.

Visit `https://gitpod.io/workspaces` for all established workspaces.

## Summarize

Gitpod provides a complete, automated, pre-configured cloud-native development environment. You can develop, run, and test code directly in the browser without any local configuration,.

![playground gitpod summary](/media/develop/playground-gitpod-summary.png)
