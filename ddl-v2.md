---
title: TiDB DDL V2 Accelerates Table Creation
summary: Introduce the concept, principles, and implementation details of TiDB DDL V2 on acceleration table creation.
---

# TiDB DDL V2 Accelerates Table Creation

Starting from v7.6.0, the new version V2 of TiDB DDL supports accelerating table creation, which can improve the speed of bulk table creation.

> **Warning:**
>
> TiDB DDL V2 is currently an experimental feature and is not recommended for use in production environments. This feature may change or be removed without prior notice. If you find any bugs, please provide feedback by creating an issue on GitHub (https://github.com/pingcap/tidb/issues).

## Compatibility with TiDB tools

- [TiCDC](/ticdc/ticdc-overview.md) does not currently support table creation acceleration with TiDB DDL V2.

## Limitations

TiDB DDL V2 is currently only supported for the [`CREATE TABLE`](/sql-statements/sql-statement-create-table.md) statement, and this statement cannot include any foreign key constraints.

## Overview

TiDB uses the online asynchronous schema change algorithm to support changing metadata objects. All DDL Jobs are submitted to the `mysql.tidb_ddl_job` table, and the owner node pulls the DDL Job to execute. After executing each phase of the online DDL algorithm, the DDL Job is marked as completed and moved to the `mysql.tidb_ddl_history` table. Therefore, DDL can only be executed on the owner node and cannot be linearly extended.

However, for some DDL statements, it is not necessary to strictly follow the online DDL algorithm. For example, the `CREATE TABLE` statement only has two states for the Job: `none` and `public`. Therefore, the execution process of DDL can be simplified, so that the create table statement can be executed on a non-owner node, thereby accelerating table creation.

## Usage

You can enable or disable TiDB DDL V2 by setting the value of system variable [`tidb_ddl_version`](/system-variables.md#tidb_ddl_version-Introduced-since-v760) .

To enable this feature, set the value of this variable to `2`:

```sql
SET GLOBAL tidb_ddl_version = 2;
```

To disable this feature, set the value of this variable to `1`:

```sql
SET GLOBAL tidb_ddl_version = 1;
```

## Implementation

The detailed implementation principle of TiDB DDL V2 for accelerating table creation is as follows:

1. Create a `CREATE TABLE` Job

   This step is no different from the V1 implementation. The corresponding DDL Job is generated by parsing the `CREATE TABLE` statement.

2. Execute the `CREATE TABLE` Job

   Unlike V1, V2 is executed directly by the TiDB node receiving the `CREATE TABLE` statement which persists the table structure to TiKV by executing the CREATE TABLE statement. At the same time, the `CREATE TABLE` Job is marked as completed and inserted into the `mysql.tidb_ddl_history` table.

3. Synchronize Table Information

   TiDB notifies other nodes to synchronize the newly created table structure.