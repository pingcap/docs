---
title: Connect to TiDB Cloud Premium via Alibaba Cloud Private Endpoint
summary: Alibaba Cloud 上のプライベート エンドポイント経由でTiDB Cloud Premium インスタンスに接続する方法を学習します。
---

# Alibaba Cloud プライベートエンドポイント経由でTiDB Cloud Premium に接続する {#connect-to-tidb-cloud-premium-via-alibaba-cloud-private-endpoint}

このドキュメントでは、Alibaba Cloud 上のプライベートエンドポイントを介してTiDB Cloud Premium インスタンスに接続する方法について説明します。プライベートエンドポイントを介して接続することで、パブリックインターネットを介さずに、サービスと TiDB インスタンス間の安全かつプライベートな通信が可能になります。

> **ヒント：**
>
> AWS PrivateLink 経由でTiDB Cloud Premium インスタンスに接続する方法については、 [AWS PrivateLink 経由でTiDB Cloud Premium に接続する](/tidb-cloud/premium/connect-to-premium-via-aws-private-endpoint.md)参照してください。

## 制限 {#restrictions}

-   現在、TiDB Premium は、エンドポイントサービスが AWS または Alibaba Cloud でホストされている場合にプライベートエンドポイント接続をサポートしています。サービスが他のクラウドプロバイダーでホストされている場合、プライベートエンドポイントは適用されません。
-   リージョン間のプライベート エンドポイント接続はサポートされていません。

## Alibaba Cloudでプライベートエンドポイントを設定する {#set-up-a-private-endpoint-with-alibaba-cloud}

プライベート エンドポイント経由で Premium インスタンスに接続するには、次の手順を実行します。

### ステップ1. TiDBインスタンスを選択する {#step-1-choose-a-tidb-instance}

1.  [**TiDBインスタンス**](https://tidbcloud.com/instances)ページで、ターゲット TiDB インスタンスの名前をクリックして、概要ページに移動します。
2.  右上隅の**「接続」**をクリックします。接続ダイアログが表示されます。
3.  **[接続タイプ]**ドロップダウン リストで、 **[プライベート エンドポイント]**を選択します。
4.  **サービス名**、**アベイラビリティーゾーン ID** 、**リージョンID**をメモします。

### ステップ2. Alibaba Cloudにプライベートエンドポイントを作成する {#step-2-create-a-private-endpoint-on-alibaba-cloud}

Alibaba Cloud 管理コンソールを使用して VPC インターフェイス エンドポイントを作成するには、次の手順を実行します。

1.  [Alibaba Cloud 管理コンソール](https://account.alibabacloud.com/login/login.htm)にサインインします。
2.  **VPC** &gt;**エンドポイント**に移動します。
3.  **[インターフェイス エンドポイント]**タブをクリックし、 **[エンドポイントの作成]**をクリックします。
4.  エンドポイントの詳細を入力します。
    -   **リージョン**: TiDB Cloudインスタンスと同じリージョンを選択します。
    -   **エンドポイント名**: エンドポイントの名前を入力します。
    -   **エンドポイント タイプ**:**インターフェイス エンドポイント**を選択します。
    -   **エンドポイント サービス**: **[その他のエンドポイント サービス]**を選択します。
5.  **「エンドポイント サービス名」**フィールドに、 TiDB Cloudからコピーしたサービス名を貼り付けます。
6.  **「確認」**をクリックします。緑色のチェックマークは、サービスが有効であることを示します。
7.  エンドポイントに関連付ける**VPC** 、**Securityグループ**、**ゾーン**を選択します。
8.  **[OK]**をクリックしてエンドポイントを作成します。
9.  エンドポイントのステータスが**Active に**なり、接続ステータスが**Connected に**なるまで待ちます。

インターフェイス エンドポイントを作成したら、 **[エンドポイント]**ページに移動し、新しく作成したエンドポイントを選択します。

-   **「基本情報」**セクションで、**エンドポイントID**をコピーします。この値は、後で*エンドポイントリソースID*として使用します。

-   **エンドポイントサービスのドメイン名**セクションで、**デフォルトのドメイン名**をコピーします。この値は、後で*ドメイン名*として使用します。

    ![AliCloud private endpoint Information](/media/tidb-cloud/private-endpoint/alicloud-private-endpoint-info.png)

### ステップ3.エンドポイントを受け入れ、エンドポイント接続を作成する {#step-3-accept-the-endpoint-and-create-the-endpoint-connection}

1.  TiDB Cloudコンソールの**「Alibaba Cloud プライベート エンドポイント接続の作成」**ダイアログに戻ります。

2.  先ほどコピーした*エンドポイント リソース ID*と*ドメイン名*を対応するフィールドに貼り付けます。

3.  プライベート エンドポイントからの接続を受け入れるには、 **[プライベート エンドポイント接続の作成] を**クリックします。

### ステップ4. TiDBインスタンスに接続する {#step-4-connect-to-your-tidb-instance}

エンドポイント接続を承認すると、接続ダイアログにリダイレクトされます。

1.  プライベートエンドポイントの接続ステータスが**アクティブ**になるまで（約5分）お待ちください。ステータスを確認するには、左側のナビゲーションペインで**「設定」** &gt; **「ネットワーク」**をクリックして**「ネットワーク」**ページに移動します。

2.  **「接続**方法」ドロップダウンリストで、希望する接続方法を選択します。対応する接続文字列がダイアログの下部に表示されます。

3.  接続文字列を使用してインスタンスに接続します。

## プライベートエンドポイントのステータスリファレンス {#private-endpoint-status-reference}

プライベート エンドポイントまたはプライベート エンドポイント サービスのステータスを表示するには、左側のナビゲーション ペインで**[設定]** &gt; **[ネットワーク] を**クリックして、 **[ネットワーク]**ページに移動します。

プライベート エンドポイントの可能なステータスについては、次のように説明されます。

-   **保留中**: 処理を待機しています。
-   **アクティブ**: プライベート エンドポイントは使用できる状態です。
-   **削除中**: プライベート エンドポイントを削除しています。
-   **失敗**: プライベートエンドポイントの作成に失敗しました。プライベートエンドポイントを削除して、新しいプライベートエンドポイントを作成できます。

プライベート エンドポイント サービスの可能なステータスについては、次のように説明されます。

-   **作成中**: エンドポイント サービスを作成中です。これには 3 ～ 5 分かかります。
-   **アクティブ**: プライベート エンドポイントが作成されたかどうかに関係なく、エンドポイント サービスが作成されます。
