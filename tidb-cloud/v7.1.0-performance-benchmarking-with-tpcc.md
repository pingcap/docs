---
title: TiDB Cloud TPC-C Performance Test Report
---

# TiDB Cloud TPC-C Performance Test Report

## Test overview

This test aims at showing the TPC-C performance of TiDB v7.1.0 in the Online Transactional Processing (OLTP) scenario.

## Test environment (TiDB Cloud AWS)

### Hardware configuration

| Service type | EC2 type | Instance count |
|:----------|:----------|:----------|
| PD        | c6g.xlarge |     3     |
| TiKV      | m6g.4xlarge|     3     |
| TiDB      | c6g.4xlarge|     2     |
| TPC-C  | c6a.2xlarge|     1     |

### Software version

| Service type | Software version  |
| :----------- | :---------------- |
| PD           | v7.1.0  |
| TiDB         | v7.1.0 |
| TiKV         | v7.1.0 |

### Parameter configuration

#### TiDB parameter configuration

```yaml
enable-telemetry = false

[log.file]
# Limit the total size of slowlog
max-backups = 3
```

#### TiKV parameter configuration

```yaml
[server]
simplify-metrics = true

# security configurations are managed by cluster-contorller since it is coupled
# with cluster depoyment topology.
[security]
redact-info-log = true

[raft-engine]
format-version = 2
enable-log-recycle = true
prefill-for-recycle = true

[backup]
s3-multi-part-size = "30MB"
```

#### TiDB global variable configuration

```sql
set tidb_build_stats_concurrency=16;
set tidb_distsql_scan_concurrency=16;
set tidb_index_serial_scan_concurrency=16;
```

   # Makes the process fork into background. It is equivalent to the command line "-D" argument. It can be disabled by the command line "-db" argument.

### Prepare test data

1. Deploy TiDB v7.1.0 using TiDB Cloud.
2. Create a database named `tpcc`: `create database tpcc;`.
3. Use BenchmarkSQL to import the TPC-C 5000 Warehouse data: `go-tpc tpcc --host {{privatelink}} --warehouses 1000 prepare  -P 4000 -D tpcc -T {{thread}} --time 2h0m0s -p {{password}} --ignore-error`.
4. Run the `go-tpc tpcc --host {{privatelink}} -P 4000 --warehouses 1000 run -D tpcc -T {{thread}} --time 2h0m0s -p {{password}} --ignore-error` command to perform stress tests on TiDB via HAProxy. For each concurrency, the test takes 30 minutes.
5. Extract the tpmC data of New Order from the result.

## Test result

The TPC-C performance of v7.1.0 is 

| Threads |  v7.1.0 tpmC |
|:----------|:----------|
|50|37904|
|100|67790|
|200|93479|

![TPC-C](/media/tidb-cloud/v7.1.0-tpmC.png)
