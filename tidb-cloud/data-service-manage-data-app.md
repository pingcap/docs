---
title: Manage a Data App
summary: TiDB Cloudコンソールでデータ アプリを作成、表示、変更、削除する方法を学習します。
---

# データアプリを管理する {#manage-a-data-app}

Data Service（ベータ版）のデータアプリは、特定のアプリケーションのデータにアクセスするために使用できるエンドポイントのコレクションです。APIキーを使用して認証設定を構成し、データアプリ内のエンドポイントへのアクセスを制限できます。

このドキュメントでは、 TiDB Cloudコンソールでデータアプリを管理する方法について説明します。1 [**データサービス**](https://tidbcloud.com/project/data-service)目では、すべてのデータアプリ、エンドポイント、API キーを管理できます。

## データアプリを作成する {#create-a-data-app}

プロジェクトのデータ アプリを作成するには、次の手順を実行します。

1.  プロジェクトの[**データサービス**](https://tidbcloud.com/project/data-service)ページで、<mdsvgicon name="icon-create-data-app">左側のペインで**DataApp を作成します**。</mdsvgicon>

    > **ヒント：**
    >
    > これがプロジェクトの最初のデータ アプリである場合は、ページの中央にある**[データ アプリの作成]**をクリックします。

2.  名前と説明を入力し、データ アプリがアクセスするクラスターを選択します。

    > **注記：**
    >
    > デフォルトでは、データアプリの種類は**標準データアプリ**です。Chat2Query**データアプリ**を作成する場合は、このドキュメントではなく[Chat2Query APIを使い始める](/tidb-cloud/use-chat2query-api.md)を参照してください。

3.  (オプション) データ アプリのエンドポイントを優先 GitHub リポジトリとブランチに自動的にデプロイするには、 **GitHub に接続 を**有効にして、次の操作を行います。

    1.  **「GitHub にインストール」を**クリックし、画面の指示に従って、 **TiDB Cloud Data Service を**アプリケーションとしてターゲット リポジトリにインストールします。
    2.  **「承認」**をクリックして、GitHub 上のアプリケーションへのアクセスを承認します。
    3.  データ アプリの構成ファイルを保存するターゲット リポジトリ、ブランチ、ディレクトリを指定します。

        > **注記：**
        >
        > -   ディレクトリはスラッシュ（ `/` ）で始まる必要があります。例えば、 `/mydata` 。指定したディレクトリがターゲットリポジトリとブランチに存在しない場合は、自動的に作成されます。
        > -   リポジトリ、ブランチ、ディレクトリの組み合わせは、設定ファイルのパスを識別します。このパスはデータアプリ間で一意である必要があります。指定したパスが既に別のデータアプリで使用されている場合は、新しいパスを指定する必要があります。そうしないと、 TiDB Cloudコンソールで現在のデータアプリ用に設定されたエンドポイントによって、指定したパス内のファイルが上書きされます。
        > -   指定したパスに別のデータ アプリからコピーされた構成ファイルが含まれており、これらのファイルを現在のデータ アプリにインポートする場合は、 [既存のデータアプリの構成をインポートする](/tidb-cloud/data-service-manage-github-connection.md#import-configurations-of-an-existing-data-app)参照してください。

4.  **[データ アプリの作成] を**クリックします。

    新しく作成されたデータアプリがリストの一番上に追加されます。新しいデータアプリにはデフォルトで「 `untitled endpoint`が作成されます。

5.  データアプリをGitHubに接続するように設定している場合は、指定したGitHubディレクトリを確認してください`tidb-cloud-data-service`までに[データアプリの構成ファイル](/tidb-cloud/data-service-app-config-files.md)ディレクトリにコミットされていることがわかります。これは、データアプリがGitHubに正常に接続されていることを意味します。

    新しいデータアプリでは、**自動同期とデプロイ、**および**ドラフトのレビューが**デフォルトで有効になっているため、 TiDB Cloudコンソールと GitHub 間でデータアプリの変更を簡単に同期し、デプロイ前に変更を確認できます。GitHub との統合の詳細については、 [データアプリの変更を GitHub で自動的にデプロイ](/tidb-cloud/data-service-manage-github-connection.md)ご覧ください。

## データアプリを構成する {#configure-a-data-app}

データ アプリの名前、バージョン、説明を編集したり、GitHub 接続、リンクされたデータ ソース、API キー、エンドポイント、デプロイメントを管理したりできます。

### データアプリのプロパティを編集する {#edit-data-app-properties}

データアプリの名前、バージョン、説明を編集できます。データアプリのプロパティを編集するには、次の手順に従います。

1.  プロジェクトの[**データサービス**](https://tidbcloud.com/project/data-service)ページに移動します。
2.  左側のペインで、対象のデータ アプリの名前をクリックして詳細を表示します。
3.  **データアプリのプロパティ**領域で、 <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="gray.1"><path d="M11 3.99998H6.8C5.11984 3.99998 4.27976 3.99998 3.63803 4.32696C3.07354 4.61458 2.6146 5.07353 2.32698 5.63801C2 6.27975 2 7.11983 2 8.79998V17.2C2 18.8801 2 19.7202 2.32698 20.362C2.6146 20.9264 3.07354 21.3854 3.63803 21.673C4.27976 22 5.11984 22 6.8 22H15.2C16.8802 22 17.7202 22 18.362 21.673C18.9265 21.3854 19.3854 20.9264 19.673 20.362C20 19.7202 20 18.8801 20 17.2V13M7.99997 16H9.67452C10.1637 16 10.4083 16 10.6385 15.9447C10.8425 15.8957 11.0376 15.8149 11.2166 15.7053C11.4184 15.5816 11.5914 15.4086 11.9373 15.0627L21.5 5.49998C22.3284 4.67156 22.3284 3.32841 21.5 2.49998C20.6716 1.67156 19.3284 1.67155 18.5 2.49998L8.93723 12.0627C8.59133 12.4086 8.41838 12.5816 8.29469 12.7834C8.18504 12.9624 8.10423 13.1574 8.05523 13.3615C7.99997 13.5917 7.99997 13.8363 7.99997 14.3255V16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>をクリックし、アプリ名、バージョン、または説明を変更して、 **「確認」を**クリックします。

### GitHub接続を管理する {#manage-github-connection}

詳細については[GitHubで自動デプロイ](/tidb-cloud/data-service-manage-github-connection.md)参照してください。

### リンクされたデータソースを管理する {#manage-linked-data-sources}

データ アプリのリンクされたクラスターを追加または削除できます。

クラスターをデータ アプリにリンクするには、次の手順を実行します。

1.  プロジェクトの[**データサービス**](https://tidbcloud.com/project/data-service)ページに移動します。
2.  左側のペインで、対象のデータ アプリを見つけ、対象のデータ アプリの名前をクリックして詳細を表示します。
3.  **[リンクされたデータ ソース]**領域で、 **[クラスタの追加] を**クリックします。
4.  表示されたダイアログボックスで、リストからクラスターを選択し、 **「追加」**をクリックします。

データ アプリからリンクされたクラスターを削除するには、次の手順を実行します。

1.  プロジェクトの[**データサービス**](https://tidbcloud.com/project/data-service)ページに移動します。
2.  左側のペインで、対象のデータ アプリを見つけ、対象のデータ アプリの名前をクリックして詳細を表示します。
3.  **[リンクされたデータ ソース]**領域で、データ アプリから削除する対象のリンク クラスターを見つけて、 **[アクション]**列の**[削除] を**クリックします。
4.  表示されたダイアログボックスで削除を確認します。

    リンクされたクラスターを削除しても、クラスター自体は削除されませんが、データ アプリ内の既存のエンドポイントはクラスターにアクセスできなくなります。

### APIキーを管理する {#manage-an-api-key}

詳細については[APIキーを管理する](/tidb-cloud/data-service-api-key.md)参照してください。

### エンドポイントを管理する {#manage-an-endpoint}

詳細については[エンドポイントを管理する](/tidb-cloud/data-service-manage-endpoint.md)参照してください。

### カスタムドメインを管理する {#manage-a-custom-domain}

詳細については[カスタムドメインを管理する](/tidb-cloud/data-service-custom-domain.md)参照してください。

### 展開を管理する {#manage-deployments}

デプロイメントを管理するには、次の手順を実行します。

1.  プロジェクトの[**データサービス**](https://tidbcloud.com/project/data-service)ページに移動します。

2.  左側のペインで、対象のデータ アプリを見つけ、対象のデータ アプリの名前をクリックして詳細を表示します。

3.  **「デプロイメントコンフィグレーション」**領域で、 **「構成」**をクリックします。デプロイメント構成のダイアログが表示されます。

4.  ダイアログで、**自動同期とデプロイメント**と**ドラフトの確認**の希望の設定を選択します。

    -   **自動同期と展開**

        -   このオプションは、データアプリがGitHubに接続されている場合にのみ有効にできます。詳細については、 [GitHubで自動デプロイ](/tidb-cloud/data-service-manage-github-connection.md)ご覧ください。
        -   有効にすると、指定したGitHubディレクトリに加えられた変更がTiDB Cloudに自動的にデプロイされ、 TiDB Cloudコンソールに加えられた変更もGitHubにプッシュされます。対応するデプロイ情報とコミット情報は、データアプリのデプロイ履歴で確認できます。
        -   無効にすると、指定した GitHub ディレクトリで行われた変更はTiDB Cloudにデプロイ**されず**、 TiDB Cloudコンソールで行われた変更も GitHub にプッシュされ**ません**。

    -   **レビュー草稿**

        -   有効にすると、デプロイ前にTiDB Cloudコンソールでデータアプリに加えた変更を確認できます。確認結果に基づいて、変更をデプロイするか破棄するかを選択できます。
        -   無効にすると、 TiDB Cloudコンソールで行ったデータ アプリの変更が直接デプロイされます。

5.  **「アクション」**列では、必要に応じて変更を編集または再展開できます。

## OpenAPI仕様を使用する {#use-the-openapi-specification}

データサービス（ベータ版）は、各データアプリ向けのOpenAPI仕様3.0の生成をサポートしています。これにより、エンドポイントを標準化された形式で操作できるようになります。この仕様を使用して、標準化されたOpenAPIドキュメント、クライアントSDK、サーバースタブを生成できます。

### OpenAPI仕様をダウンロードする {#download-the-openapi-specification}

データ アプリの OpenAPI 仕様を JSON または YAML 形式でダウンロードするには、次の手順を実行します。

1.  プロジェクトの[**データサービス**](https://tidbcloud.com/project/data-service)ページに移動します。

2.  左側のペインで、対象のデータ アプリの名前をクリックして詳細を表示します。

3.  **API 仕様**領域で、 **「ダウンロード」**をクリックし、 **JSON**または**YAML**を選択します。

    OpenAPI 仕様を初めてダウンロードする場合は、プロンプトが表示されたらリクエストを承認する必要があります。

4.  次に、OpenAPI 仕様がローカル マシンにダウンロードされます。

### OpenAPIドキュメントをビュー {#view-the-openapi-documentation}

Data Service（ベータ版）では、各データアプリごとに自動生成されたOpenAPIドキュメントを提供しています。ドキュメントでは、エンドポイント、パラメータ、レスポンスを確認し、エンドポイントを試すことができます。

OpenAPI ドキュメントにアクセスするには、次の手順を実行します。

1.  プロジェクトの[**データサービス**](https://tidbcloud.com/project/data-service)ページに移動します。

2.  左側のペインで、対象のデータ アプリの名前をクリックして詳細を表示します。

3.  ページの右上隅にある**[API ドキュメントのビュー] を**クリックします。

    OpenAPI 仕様を初めて使用する場合は、プロンプトが表示されたらリクエストを承認する必要があります。

4.  すると、OpenAPIドキュメントが新しいタブで開きます。ドキュメントでは、以下の情報を確認できます。

    -   データ アプリの名前、バージョン、説明。
    -   タグごとにグループ化されたエンドポイント。

5.  (オプション) エンドポイントを試すには、次の手順を実行します。

    1.  **[承認]**をクリックし、表示されたダイアログ ボックスにデータ アプリの公開キーを**ユーザー名**として、秘密キーを**パスワード**として入力します。

        詳細については[APIキーを管理する](/tidb-cloud/data-service-api-key.md)参照してください。

    2.  ターゲットエンドポイントを見つけ、必要なパラメータを入力して**「試してみる」**をクリックします。レスポンスは**「レスポンス本文」**領域に表示されます。

OpenAPI ドキュメントの使用方法の詳細については、 [スワッガーUI](https://swagger.io/tools/swagger-ui/)参照してください。

## データアプリを削除する {#delete-a-data-app}

> **注記：**
>
> データアプリを削除する前に、すべてのエンドポイントがオンラインになっていないことを確認してください。オンラインになっていないと、データアプリを削除できません。エンドポイントのデプロイを解除するには、 [エンドポイントのデプロイ解除](/tidb-cloud/data-service-manage-endpoint.md#undeploy-an-endpoint)を参照してください。

データ アプリを削除するには、次の手順を実行します。

1.  プロジェクトの[**データサービス**](https://tidbcloud.com/project/data-service)ページに移動します。
2.  左側のペインで、対象のデータ アプリを見つけ、対象のデータ アプリの名前をクリックして詳細を表示します。
3.  **危険ゾーン**エリアで、 **「データアプリを削除」**をクリックします。確認のダイアログボックスが表示されます。
4.  `<organization name>/<project name>/<data app name>`を入力し、 **[理解して削除] を**クリックします。

    データアプリを削除すると、データアプリ内の既存のエンドポイントとAPIキーも削除されます。このデータアプリがGitHubに接続されている場合、アプリを削除しても、対応するGitHubリポジトリ内のファイルは削除されません。

## もっと詳しく知る {#learn-more}

-   [Postmanでデータアプリを実行する](/tidb-cloud/data-service-postman-integration.md)
