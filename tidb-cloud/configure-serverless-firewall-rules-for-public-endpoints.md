---
title: Configure TiDB Cloud Serverless Firewall Rules for Public Endpoints 
summary: TiDB Cloud Serverless クラスターへのパブリック アクセスを安全に実現するファイアウォール ルールを構成および管理する方法を学びます。
---

# パブリックエンドポイント用のTiDB Cloudサーバーレス ファイアウォール ルールを構成する {#configure-tidb-cloud-serverless-firewall-rules-for-public-endpoints}

このドキュメントでは、TiDB Cloud Serverless のパブリック接続オプションについて説明します。インターネット経由でアクセス可能なTiDB Cloud Serverless クラスターを安全に管理するための重要な概念を学習します。

> **注記：**
>
> このドキュメントは**TiDB Cloud Serverless**に適用されます。TiDB **TiDB Cloud Dedicated**のIPアクセスリストの設定手順については、 [TiDB Cloud DedicatedのIPアクセスリストを設定する](/tidb-cloud/configure-ip-access-list.md)参照してください。

## パブリックエンドポイント {#public-endpoints}

TiDB Cloud Serverless クラスターにパブリックアクセスを設定すると、パブリックエンドポイント経由でクラスターにアクセスできるようになります。つまり、クラスターはインターネット経由でアクセス可能になります。パブリックエンドポイントとは、公開解決可能な DNS アドレスです。「承認済みネットワーク」とは、クラスターへのアクセスを許可するために選択した IP アドレスの範囲を指します。これらの権限は、**ファイアウォールルール**を通じて適用されます。

### パブリックアクセスの特徴 {#characteristics-of-public-access}

-   指定された IP アドレスのみがTiDB Cloud Serverless にアクセスできます。
    -   デフォルトではすべてのIPアドレス（ `0.0.0.0 - 255.255.255.255` ）が許可されます。
    -   クラスターの作成後に、許可された IP アドレスを更新できます。
-   クラスターにはパブリックに解決可能な DNS 名があります。
-   クラスターとの間のネットワーク トラフィックは、プライベート ネットワークではなく**パブリック インターネット**経由でルーティングされます。

### ファイアウォールルール {#firewall-rules}

IPアドレスへのアクセスの許可は、**ファイアウォールルール**によって行われます。承認されていないIPアドレスから接続が試みられた場合、クライアントはエラーを受け取ります。

最大 200 個の IP ファイアウォール ルールを作成できます。

### AWSアクセスを許可する {#allow-aws-access}

公式の[AWS IPアドレスリスト](https://docs.aws.amazon.com/vpc/latest/userguide/aws-ip-ranges.html)を参考にして、**すべての AWS IP アドレス**からのアクセスを有効にすることができます。

TiDB Cloud はこのリストを定期的に更新し、予約済みの IP アドレス**169.254.65.87**を使用してすべての AWS IP アドレスを表します。

## ファイアウォールルールの作成と管理 {#create-and-manage-a-firewall-rule}

このセクションでは、 TiDB Cloud Serverless クラスターのファイアウォールルールを管理する方法について説明します。パブリックエンドポイントを使用すると、 TiDB Cloud Serverless クラスターへの接続は、ファイアウォールルールで指定された IP アドレスに制限されます。

TiDB Cloud Serverless クラスターにファイアウォール ルールを追加するには、次の手順を実行します。

1.  [**クラスター**](https://tidbcloud.com/project/clusters)ページに移動し、ターゲット クラスターの名前をクリックして概要ページに移動します。

2.  左側のナビゲーション ペインで、 **[設定]** &gt; **[ネットワーク] を**クリックします。

3.  **「ネットワーク」**ページで、 **「パブリックエンドポイント」**が無効になっている場合は有効にします。 **「承認済みネットワーク」**で、 **「+ 現在のIPを追加」**をクリックします。これにより、 TiDB Cloudが認識したコンピューターのパブリックIPアドレスを含むファイアウォールルールが自動的に作成されます。

    > **注記：**
    >
    > 状況によっては、 TiDB Cloudコンソールで監視される IP アドレスが、インターネットへのアクセス時に使用される IP アドレスと異なる場合があります。そのため、ルールを期待どおりに機能させるには、開始 IP アドレスと終了 IP アドレスを変更する必要がある場合があります。検索エンジンなどのオンラインツールを使用して、ご自身の IP アドレスを確認できます。例えば、「what is my IP」で検索してみてください。

4.  **「ルールを追加」**をクリックすると、アドレス範囲を追加できます。表示されるウィンドウで、単一のIPアドレスまたはIPアドレスの範囲を指定できます。ルールを単一のIPアドレスに限定したい場合は、 **「開始IPアドレス」**と**「終了IPアドレス」**のフィールドに同じIPアドレスを入力してください。ファイアウォールを有効にすると、管理者、ユーザー、アプリケーションは、有効な認証情報を持つTiDB Cloud Serverlessクラスター上の任意のデータベースにアクセスできるようになります。「送信」**を**クリックすると、ファイアウォールルールが追加されます。

## 次は何？ {#what-s-next}

-   [パブリックエンドポイント経由でTiDB Cloud Serverless に接続する](/tidb-cloud/connect-via-standard-connection-serverless.md)
