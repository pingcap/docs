---
title: TiDB Cloud Built-in Alerting
summary: TiDB Cloudからアラート通知を取得して、TiDB クラスターを監視する方法を学習します。
---

# TiDB Cloud組み込みアラート {#tidb-cloud-built-in-alerting}

TiDB Cloud を使用すると、アラートの表示、アラート ルールの編集、アラート通知のサブスクライブを簡単に行うことができます。

このドキュメントでは、これらの操作を実行する方法について説明し、参考としてTiDB Cloudに組み込まれているアラート条件を示します。

> **注記：**
>
> 現在、アラート機能は[TiDB Cloud専用](/tidb-cloud/select-cluster-tier.md#tidb-cloud-dedicated)クラスターでのみ使用できます。

## アラートをビュー {#view-alerts}

TiDB Cloudでは、**アラート**ページでアクティブなアラートと閉じられたアラートの両方を表示できます。

1.  [TiDB Cloudコンソール](https://tidbcloud.com/)で、プロジェクトの[**クラスター**](https://tidbcloud.com/project/clusters)ページに移動します。

    > **ヒント：**
    >
    > 左上隅のコンボ ボックスを使用して、組織、プロジェクト、クラスターを切り替えることができます。

2.  対象クラスターの名前をクリックします。クラスターの概要ページが表示されます。

3.  左側のナビゲーション ペインで**[アラート]**をクリックします。

4.  **アラート**ページには、デフォルトでアクティブなアラートが表示されます。アラート名、発生時刻、期間など、各アラートの情報を確認できます。

5.  完了したアラートも表示したい場合は、 **[ステータス]**ドロップダウン リストをクリックし、 **[完了]**または**[すべて]**を選択します。

## アラートルールを編集する {#edit-alert-rules}

TiDB Cloudでは、アラートを無効化または有効化したり、アラートしきい値を更新したりすることで、アラート ルールを編集できます。

1.  **[アラート]**ページで、 **[ルールの編集] を**クリックします。
2.  必要に応じてアラート ルールを無効または有効にします。
3.  アラート ルールのしきい値を更新するには、 **[編集]**をクリックします。

    > **ヒント：**
    >
    > 現在、 TiDB Cloudアラートルールの編集機能が制限されています。一部のアラートルールは編集をサポートしていません。異なるトリガー条件や頻度を設定したい場合、または[ページャーデューティ](https://www.pagerduty.com/docs/guides/datadog-integration-guide/)ような下流サービスでアラートによって自動的にアクションがトリガーされるようにしたい場合は、 [サードパーティの監視とアラートの統合](/tidb-cloud/third-party-monitoring-integrations.md)のご利用をご検討ください。

## アラート通知を購読する {#subscribe-to-alert-notifications}

TiDB Cloudでは、次のいずれかの方法でアラート通知をサブスクライブできます。

-   [メール](/tidb-cloud/monitor-alert-email.md)
-   [スラック](/tidb-cloud/monitor-alert-slack.md)
-   [ズーム](/tidb-cloud/monitor-alert-zoom.md)

## TiDB Cloud組み込みアラート条件 {#tidb-cloud-built-in-alert-conditions}

次の表は、TiDB Cloudの組み込みアラート条件とそれに対応する推奨アクションを示しています。

> **注記：**
>
> -   これらのアラート状態は必ずしも問題があることを意味するものではありませんが、新たな問題の早期警告となる場合が多くあります。したがって、推奨される措置を講じることをお勧めします。
> -   TiDB Cloudコンソールでアラートのしきい値を編集できます。
> -   一部のアラートルールはデフォルトで無効になっています。必要に応じて有効にすることができます。

### リソース使用状況アラート {#resource-usage-alerts}

| 状態                                         | 推奨されるアクション                                                                                                                                               |
| :----------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------- |
| クラスタ全体の TiDB ノードのメモリ使用率が 10 分間で 70% を超えました | 現在のワークロードのメモリ使用量の割合を減らすには、TiDB のノード数またはノード サイズを増やすことを検討してください。                                                                                           |
| クラスタ全体の TiKV ノードのメモリ使用率が 10 分間で 70% を超えました | 現在のワークロードのメモリ使用量の割合を減らすには、TiKV のノード数またはノード サイズを増やすことを検討してください。                                                                                           |
| クラスタ全体のTiFlashノードメモリ使用率が 10 分間で 70% を超えました | 現在のワークロードのメモリ使用量の割合を減らすには、 TiFlashのノード数またはノード サイズを増やすことを検討してください。                                                                                        |
| TiDBノードのCPU使用率が10分間80%を超えました               | 現在のワークロードの CPU 使用率を下げるには、TiDB のノード数またはノード サイズを増やすことを検討してください。                                                                                            |
| TiKVノードのCPU使用率が10分間80%を超えました               | 現在のワークロードの CPU 使用率を下げるには、TiKV のノード数またはノード サイズを増やすことを検討してください。                                                                                            |
| TiFlashノードのCPU使用率が10分間80%を超えました            | 現在のワークロードの CPU 使用率を下げるには、 TiFlashのノード数またはノード サイズを増やすことを検討してください。                                                                                         |
| TiKVstorageの使用率が80%を超える                    | storage容量を増やすには、TiKV のノード数またはノードstorageサイズを増やすことを検討してください。                                                                                               |
| TiFlashstorageの使用率が80%を超える                 | storage容量を増やすには、 TiFlashのノード数またはノードstorageサイズを増やすことを検討してください。                                                                                            |
| TiDB ノード全体の最大メモリ使用率が 10 分間 70% を超えました      | 現在のワークロードのメモリ使用率を下げるには、クラスター内に[ホットスポット](/tidb-cloud/tidb-cloud-sql-tuning-overview.md#hotspot-issues)あるかどうかを確認するか、TiDB のノード数またはノード サイズを増やすことを検討してください。   |
| TiKVノード全体の最大メモリ使用率が10分間70%を超えました           | 現在のワークロードのメモリ使用率を下げるには、クラスター内に[ホットスポット](/tidb-cloud/tidb-cloud-sql-tuning-overview.md#hotspot-issues)あるかどうかを確認するか、TiKV のノード数またはノード サイズを増やすことを検討してください。   |
| TiDBノード全体の最大CPU使用率が10分間80%を超えました           | 現在のワークロードの CPU 使用率を下げるには、クラスター内に[ホットスポット](/tidb-cloud/tidb-cloud-sql-tuning-overview.md#hotspot-issues)あるかどうかを確認するか、TiDB のノード数またはノード サイズを増やすことを検討してください。 |
| TiKVノード全体の最大CPU使用率が10分間80%を超えました           | 現在のワークロードの CPU 使用率を下げるには、クラスター内に[ホットスポット](/tidb-cloud/tidb-cloud-sql-tuning-overview.md#hotspot-issues)あるかどうかを確認するか、TiKV のノード数またはノード サイズを増やすことを検討してください。 |

### データ移行アラート {#data-migration-alerts}

| 状態                                  | 推奨されるアクション                                                                                                                                                                                                                                      |
| :---------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| データ移行ジョブでデータのエクスポート中にエラーが発生しました     | エラーを確認し、ヘルプについては[データ移行のトラブルシューティング](/tidb-cloud/tidb-cloud-dm-precheck-and-troubleshooting.md#migration-errors-and-solutions)参照してください。                                                                                                          |
| データ移行ジョブでデータのインポート中にエラーが発生しました      | エラーを確認し、ヘルプについては[データ移行のトラブルシューティング](/tidb-cloud/tidb-cloud-dm-precheck-and-troubleshooting.md#migration-errors-and-solutions)参照してください。                                                                                                          |
| 増分移行中にデータ移行ジョブでエラーが発生しました           | エラーを確認し、ヘルプについては[データ移行のトラブルシューティング](/tidb-cloud/tidb-cloud-dm-precheck-and-troubleshooting.md#migration-errors-and-solutions)参照してください。                                                                                                          |
| 増分移行中にデータ移行ジョブが 6 時間以上一時停止されました     | データ移行ジョブは、データ増分移行中に6時間以上一時停止されています。上流データベースのbinlogがパージされている可能性があり（データベースのbinlogパージ戦略によって異なります）、増分移行が失敗する可能性があります。ヘルプについては[データ移行のトラブルシューティング](/tidb-cloud/tidb-cloud-dm-precheck-and-troubleshooting.md#migration-errors-and-solutions)参照してください。 |
| レプリケーション遅延は10分を超えており、20分以上増加し続けています | ヘルプについては[データ移行のトラブルシューティング](/tidb-cloud/tidb-cloud-dm-precheck-and-troubleshooting.md#migration-errors-and-solutions)参照してください。                                                                                                                  |

### チェンジフィードアラート {#changefeed-alerts}

| 状態                            | 推奨されるアクション                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| :---------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 変更フィードのレイテンシーが 600 秒を超えています。  | TiDB Cloudコンソールの**Changefeed**ページと**Changefeed の詳細**ページで changefeed のステータスを確認してください。そこには、この問題の診断に役立ついくつかのエラー メッセージがあります。<br/>このアラートをトリガーする可能性のある理由は次のとおりです:<ul><li>アップストリーム全体のトラフィックが増加し、既存のChangeFeed仕様では対応できなくなりました。トラフィックの増加が一時的なものであれば、トラフィックが正常に戻るとChangeFeedのレイテンシーは自動的に回復します。トラフィックの増加が継続的な場合は、ChangeFeedをスケールアップする必要があります。</li><li>下流またはネットワークに異常があります。この場合は、まずこの異常を解決してください。</li><li>ダウンストリームがRDSの場合、テーブルにインデックスがないため、書き込みパフォーマンスが低下し、レイテンシーが増加する可能性があります。この場合、アップストリームまたはダウンストリームに必要なインデックスを追加する必要があります。</li></ul>お客様側で問題を解決できない場合は、 [TiDB Cloudサポート](/tidb-cloud/tidb-cloud-support.md)連絡してさらにサポートを受けることができます。 |
| changefeed ステータスは`FAILED`です。  | TiDB Cloudコンソールの**Changefeed**ページと**Changefeed の詳細**ページで changefeed のステータスを確認してください。そこには、この問題の診断に役立ついくつかのエラー メッセージがあります。<br/>お客様側で問題を解決できない場合は、 [TiDB Cloudサポート](/tidb-cloud/tidb-cloud-support.md)連絡してさらにサポートを受けることができます。                                                                                                                                                                                                                                                                                                                                                                                                |
| changefeed ステータスは`WARNING`です。 | TiDB Cloudコンソールの**Changefeed**ページと**Changefeed の詳細**ページで changefeed のステータスを確認してください。そこには、この問題の診断に役立ついくつかのエラー メッセージがあります。<br/>お客様側で問題を解決できない場合は、 [TiDB Cloudサポート](/tidb-cloud/tidb-cloud-support.md)連絡してさらにサポートを受けることができます。                                                                                                                                                                                                                                                                                                                                                                                                |
