---
title: Overview of TiDB Node Group 
summary: TiDB ノード グループ機能の実装と使用シナリオについて説明します。
---

# TiDBノードグループの概要 {#overview-of-tidb-node-group}

[TiDB Cloud専用](/tidb-cloud/select-cluster-tier.md#tidb-cloud-dedicated)クラスタに対してTiDBノードグループを作成できます。TiDBノードグループは、クラスタ内のコンピューティングノード（TiDBレイヤー）を物理的にグループ化し、各グループには特定の数のTiDBノードが含まれます。この構成により、グループ間のコンピューティングリソースが物理的に分離され、複数の業務シナリオにおいて効率的なリソース割り当てが可能になります。

TiDBノードグループを使用すると、ビジネス要件に基づいてコンピューティングノードを複数のTiDBノードグループに分割し、各TiDBノードグループに固有の接続エンドポイントを設定できます。アプリケーションはそれぞれのエンドポイントを介してクラスターに接続し、リクエストは対応するノードグループにルーティングされて処理されます。これにより、あるグループでのリソースの過剰使用が他のグループに影響を与えることを防ぎます。

> **注記**：
>
> TiDB ノード グループ機能は、 TiDB Cloud Serverless クラスターでは使用でき**ません**。

## 実装 {#implementation}

TiDB ノード グループは、TiDB ノードのグループ化を管理し、エンドポイントと対応する TiDB ノード間のマッピングを維持します。

各TiDBノードグループは専用のロードバランサに関連付けられています。ユーザーがTiDBノードグループのエンドポイントにSQLリクエストを送信すると、リクエストはまずそのグループのロードバランサを通過し、その後、グループ内のTiDBノードにのみルーティングされます。

次の図は、TiDB ノード グループ機能の実装を示しています。

![The implementation of the TiDB Node Group feature](/media/tidb-cloud/implementation-of-tidb-node-group.png)

TiDBノードグループ内のすべてのノードは、対応するエンドポイントからのリクエストに応答します。以下のタスクを実行できます。

-   TiDB ノード グループを作成し、それに TiDB ノードを割り当てます。
-   各グループの接続エンドポイントを設定します。サポートされている接続タイプは[パブリック接続](/tidb-cloud/tidb-node-group-management.md#connect-via-public-connection) 、 [プライベートエンドポイント](/tidb-cloud/tidb-node-group-management.md#connect-via-private-endpoint) 、 [VPCピアリング](/tidb-cloud/tidb-node-group-management.md#connect-via-vpc-peering)です。
-   個別のエンドポイントを使用してアプリケーションを特定のグループにルーティングし、リソースの分離を実現します。

## シナリオ {#scenarios}

TiDBノードグループ機能は、TiDB Cloud Dedicatedクラスタのリソース割り当てを大幅に強化します。TiDBノードは計算専用であり、データを保存しません。この機能は、ノードを複数の物理グループに編成することで、あるグループでのリソースの過剰使用が他のグループに影響を与えないようにします。

この機能を使用すると、次のことが可能になります。

-   異なるシステムから複数のアプリケーションを単一のTiDB Cloud Dedicatedクラスタに統合します。アプリケーションのワークロードが増加しても、他のアプリケーションの正常な動作に影響を与えることはありません。TiDBノードグループ機能により、トランザクションアプリケーションの応答時間がデータ分析やバッチアプリケーションの影響を受けないことが保証されます。

-   TiDB Cloud Dedicated クラスタ上で、既存の本番ロードのパフォーマンスに影響を与えることなく、インポートまたは DDL タスクを実行できます。インポートまたは DDL タスク用に、専用の TiDB ノードグループを作成できます。これらのタスクは CPU またはメモリリソースを大量に消費しますが、使用するリソースは専用の TiDB ノードグループ内のみであるため、他の TiDB ノードグループのワークロードには影響しません。

-   すべてのテスト環境を単一のTiDBクラスタに統合するか、リソースを大量に消費するバッチタスクを専用のTiDBノードグループにグループ化します。このアプローチにより、ハードウェア使用率が向上し、運用コストが削減され、重要なアプリケーションが常に必要なリソースにアクセスできるようになります。

さらに、TiDBノードグループはスケールインとスケールアウトが容易です。高パフォーマンス要件の主要アプリケーションでは、必要に応じてTiDBノードをグループに割り当てることができます。要件がそれほど厳しくないアプリケーションでは、少数のTiDBノードから開始し、必要に応じてスケールアウトすることができます。TiDBノードグループ機能を効率的に使用することで、クラスタ数を削減し、運用と保守を簡素化し、管理コストを削減できます。

## 制限と割り当て {#limitations-and-quotas}

現在、TiDBノードグループ機能は無料です。制限事項とクォータは次のとおりです。

-   TiDB ノードグループは、AWS または Google Cloud 上のTiDB Cloud Dedicated クラスターでのみ作成できます。他のクラウドプロバイダーへのサポートは、近い将来に予定されています。
-   4 つの vCPU と 16 GiB のメモリを備えた TiDB クラスターは、TiDB ノード グループ機能をサポートしません。
-   デフォルトでは、 TiDB Cloud Dedicated クラスターに最大 5 つの TiDB ノードグループを作成できます。さらにグループが必要な場合は、 [TiDB Cloudサポート](/tidb-cloud/tidb-cloud-support.md)お問い合わせください。
-   各TiDBノードグループには、少なくとも1つのTiDBノードが含まれている必要があります。グループ内のノード数に制限はありませんが、 TiDB Cloud Dedicatedクラスタ内のTiDBノードの総数は150を超えてはなりません。
-   TiDB Cloudは、ノードグループの境界に関係なく、TiDBオーナーノード上で自動統計収集タスクを実行します。これらのタスクは、個々のTiDBノードグループ内で分離することはできません。
-   v8.1.2 より前のバージョンの TiDB クラスターの場合、 `ADD INDEX`タスクを個々の TiDB ノード グループ内で分離することはできません。

## SLAの影響 {#sla-impact}

TiDB Cloud [サービスレベル契約（SLA）](https://www.pingcap.com/legal/service-level-agreement-for-tidb-cloud-services/)によると、複数のTiDBノードを展開したTiDB Cloud Dedicatedクラスタの月間稼働率は最大99.99%に達します。しかし、TiDBノードグループを導入した後、各グループに1つのTiDBノードのみを含む複数のTiDBノードグループを作成すると、グループの高可用性が失われ、クラスタの月間稼働率は単一のTiDBノード展開モデル（つまり最大99.9%）に低下します。

高可用性を確保するには、TiDB ノード グループごとに少なくとも 2 つの TiDB ノードを構成することをお勧めします。
