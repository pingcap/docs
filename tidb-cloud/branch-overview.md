---
title: TiDB Cloud Branching (Beta) Overview
summary: 了解 TiDB Cloud 分支的概念。
---

# TiDB Cloud Branching (Beta) 概述

TiDB Cloud 允许你为 TiDB Cloud Starter 和 TiDB Cloud Essential 集群创建分支。一个集群的分支是一个独立的实例，包含了来自原始集群的分叉数据副本。它提供了一个隔离的环境，让你可以自由地进行实验，而无需担心影响原始集群。

通过分支，开发者可以并行工作，快速迭代新功能，排查问题而不影响生产数据库，并且在需要时可以轻松回滚更改。该功能简化了开发和部署流程，同时确保生产数据库的高稳定性和可靠性。

> **Note:**
>
> 目前，TiDB Cloud Branching 处于 beta 阶段，且不支持 TiDB Cloud Dedicated 集群。

## 实现方式

当为一个集群创建分支时，分支中的数据会在某一特定时间点与原始集群或其父分支的数据分叉。这意味着之后在父集群或分支中所做的更改将不会相互同步。

为了确保分支创建的快速与无缝，TiDB Cloud 使用写时复制（copy-on-write）技术，在原始集群与其分支之间共享数据。该过程通常在几分钟内完成，对用户来说几乎无感知，并且不会影响原始集群的性能。

## 使用场景

你可以轻松快速地创建分支，以获得隔离的数据环境。在以下场景中，分支非常有用，适用于多个开发者或团队需要独立工作、测试更改、修复 bug、尝试新功能或发布更新而不影响生产数据库的情况。

- 功能开发：开发者可以在隔离环境中开发新功能，而不会影响生产数据库。每个功能都可以有自己的分支，实现快速迭代和实验，不会影响其他正在进行的工作。

- Bug 修复：开发者可以为特定 bug 创建专用分支，测试修复方案，并在验证后合并回主集群，而不会给生产数据库引入新的问题。

- 实验：在开发新功能或进行更改时，开发者可以创建分支，尝试不同的方法或配置。这使他们能够比较各种选项，收集数据，并在更改合并到生产数据库前做出明智决策。

- 性能优化：有时会对数据库进行更改以提升性能。通过分支，开发者可以在隔离环境中实验和微调各种配置、索引或算法，以找到最优解。

- 测试与预发布：团队可以为测试和预发布目的创建分支。它为质量保证、用户验收测试或上线前的定制化提供了受控环境。

- 并行开发：不同团队或开发者可以同时进行独立项目开发。每个项目都可以有自己的分支，实现独立开发和实验，同时仍可将更改合并回生产数据库。

## 限制与配额

目前，TiDB Cloud 分支处于 beta 阶段，且免费使用。

- 对于 TiDB Cloud 中的每个组织，默认最多可以在所有集群下创建 5 个分支。集群的分支会被创建在与集群相同的区域，且无法为受限集群或大于 100 GiB 的集群创建分支。

- 对于免费集群的每个分支，允许使用 10 GiB 存储空间。对于消费额度大于 0 的集群的每个分支，允许使用 100 GiB 存储空间。一旦达到存储上限，该分支的读写操作将被限流，直到你减少存储占用。

- 如果你的集群包含有 TiFlash 副本的表，在你创建新分支后，这些副本在新分支中会暂时不可用，因为 TiFlash 需要重建副本数据。

- 当你从某一特定时间点 [创建分支](/tidb-cloud/branch-manage.md#create-a-branch) 时：

    - 对于免费 TiDB Cloud Starter 集群，你可以选择最近 24 小时内的任意时间点。
    - 对于 TiDB Cloud Starter（消费额度大于 0）或 TiDB Cloud Essential 集群，你可以选择最近 14 天内的任意时间点。

如果你需要更多配额，请 [联系 TiDB Cloud Support](/tidb-cloud/tidb-cloud-support.md)。

## 后续操作

- [了解如何管理分支](/tidb-cloud/branch-manage.md)
