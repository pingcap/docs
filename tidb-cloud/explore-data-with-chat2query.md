---
title: Explore Your Data with AI-Assisted SQL Editor
summary: TiDB Cloudコンソールで AI 支援 SQL エディターを使用してデータの価値を最大化する方法を学びます。
---

# AI支援SQLエディターでデータを探索 {#explore-your-data-with-ai-assisted-sql-editor}

[TiDB Cloudコンソール](https://tidbcloud.com/)に組み込まれた AI 支援 SQL エディターを使用して、データの価値を最大化できます。

SQLエディタでは、SQLクエリを手動で記述するか、macOSでは<kbd>⌘</kbd> + <kbd>I</kbd> （WindowsまたはLinuxでは<kbd>Control</kbd> + <kbd>I</kbd> ）を押して[Chat2Query（ベータ版）](/tidb-cloud/tidb-cloud-glossary.md#chat2query) SQLクエリを自動生成させることができます。これにより、ローカルSQLクライアントなしでデータベースに対してSQLクエリを実行できます。クエリ結果は表やグラフで直感的に表示でき、クエリログも簡単に確認できます。

## ユースケース {#use-cases}

SQL エディターの推奨使用例は次のとおりです。

-   Chat2Query の AI 機能を活用して、複雑な SQL クエリを即座に生成、デバッグ、または書き換えます。
-   TiDB の MySQL 互換性を簡単にテストします。
-   独自のデータセットを使用して、TiDB の SQL 機能を簡単に探索できます。

## 制限事項 {#limitations}

-   AI によって生成された SQL クエリは 100% 正確ではない可能性があり、調整が必要になる場合があります。
-   SQL エディターは、AWS でホストされている v6.5.0 以降の TiDB クラスターでのみサポートされます。
-   SQLエディタはデフォルトで[TiDB Cloudサーバーレス](/tidb-cloud/select-cluster-tier.md#tidb-cloud-serverless)クラスタで利用可能です。SQLエディタとChat2Queryを[TiDB Cloud専用](/tidb-cloud/select-cluster-tier.md#tidb-cloud-dedicated)クラスタでご利用になる場合は、 [TiDB Cloudサポート](/tidb-cloud/tidb-cloud-support.md)お問い合わせください。

## Access SQL エディター {#access-sql-editor}

1.  プロジェクトの[**クラスター**](https://tidbcloud.com/project/clusters)ページに移動します。

    > **ヒント：**
    >
    > 左上隅のコンボ ボックスを使用して、組織、プロジェクト、クラスターを切り替えることができます。

2.  クラスター名をクリックし、左側のナビゲーション ペインで**[SQL エディター] を**クリックします。

    > **注記：**
    >
    > 次の場合、 **SQL エディターの**エントリは灰色で表示され、クリックできません。
    >
    > -   TiDB Cloud Dedicated クラスターはバージョン 6.5.0 より前のバージョンです。SQL エディターを使用するには、クラスターをアップグレードするために契約番号[TiDB Cloudサポート](/tidb-cloud/tidb-cloud-support.md)必要です。
    > -   TiDB Cloud Dedicated クラスターは作成されたばかりで、SQL エディタの実行環境はまだ準備中です。この場合は、数分お待ちいただくと Chat2Query が利用可能になります。
    > -   TiDB Cloud Dedicated クラスターは[一時停止](/tidb-cloud/pause-or-resume-tidb-cluster.md)です。

## AI による SQL クエリ生成を有効または無効にする {#enable-or-disable-ai-to-generate-sql-queries}

PingCAPは、ユーザーデータのプライバシーとセキュリティを最優先に考えています。SQLエディターのChat2QueryのAI機能は、SQLクエリを生成するためにデータベーススキーマのみにアクセスし、データ自体にはアクセスしません。詳細については、 [Chat2Queryのプライバシーに関するFAQ](https://www.pingcap.com/privacy-policy/privacy-chat2query)ご覧ください。

Chat2Query に初めてアクセスすると、PingCAP と Amazon Bedrock がコードスニペットを使用してサービスを調査および改善することを許可するかどうかを尋ねるダイアログが表示されます。

-   AI が SQL クエリを生成できるようにするには、チェックボックスをオンにして、 **「保存して開始」を**クリックします。
-   AI による SQL クエリの生成を無効にするには、このダイアログを直接閉じます。

初回アクセス後も、次のように AI 設定を変更できます。

-   AI を有効にするには、Chat2Query の右上隅にある**「データ探索のための AI パワーを有効にする」**をクリックします。
-   AIを無効にするには、<mdsvgicon name="icon-top-account-settings"> [TiDB Cloudコンソール](https://tidbcloud.com/)の左下隅にある**[アカウント設定]**をクリックし、 **[AI とプライバシー]**タブをクリックして、 **[AI を活用したデータ探索]**オプションを無効にします。</mdsvgicon>

## SQLクエリを記述して実行する {#write-and-run-sql-queries}

SQL エディターでは、独自のデータセットを使用して SQL クエリを記述および実行できます。

1.  SQL クエリを記述します。

    <SimpleTab>
     <div label="macOS">

    macOSの場合:

    -   AI が有効になっている場合は、 **⌘ + I**を押して指示に従い、 **Enter キー**を押すだけで、AI が SQL クエリを自動的に生成します。

        Chat2Queryによって生成されたSQLクエリの場合は、 **「承認」**をクリックしてクエリを承認し、編集を続行します。クエリが要件を満たしていない場合は、 **「破棄」**をクリックして拒否します。または、 **「再生成」**をクリックして、Chat2Queryに新しいクエリをリクエストします。

    -   AI が無効になっている場合は、SQL クエリを手動で記述します。

    </div>

    <div label="Windows/Linux">

    Windows または Linux の場合:

    -   AI が有効になっている場合は、 **Ctrl + I**を押して指示に従い、 **Enter キー**を押すだけで、AI によって SQL クエリが自動的に生成されます。

        Chat2Queryによって生成されたSQLクエリの場合は、 **「承認」**をクリックしてクエリを承認し、編集を続行します。クエリが要件を満たしていない場合は、 **「破棄」**をクリックして拒否します。または、 **「再生成」**をクリックして、Chat2Queryに新しいクエリをリクエストします。

    -   AI が無効になっている場合は、SQL クエリを手動で記述します。

    </div>
     </SimpleTab>

2.  SQL クエリを実行します。

    <SimpleTab>
     <div label="macOS">

    macOSの場合:

    -   エディタにクエリが1つしかない場合は、それを実行するには**⌘ + Enter**を押すか、 <svg width="1rem" height="1rem" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.70001 20.7756C6.01949 20.3926 6.00029 19.5259 6.00034 19.0422L6.00034 12.1205L6 5.33028C6 4.75247 6.00052 3.92317 6.38613 3.44138C6.83044 2.88625 7.62614 2.98501 7.95335 3.05489C8.05144 3.07584 8.14194 3.12086 8.22438 3.17798L19.2865 10.8426C19.2955 10.8489 19.304 10.8549 19.3126 10.8617C19.4069 10.9362 20 11.4314 20 12.1205C20 12.7913 19.438 13.2784 19.3212 13.3725C19.307 13.3839 19.2983 13.3902 19.2831 13.4002C18.8096 13.7133 8.57995 20.4771 8.10002 20.7756C7.60871 21.0812 7.22013 21.0683 6.70001 20.7756Z" fill="currentColor"></path></svg>**走る**。

    -   エディターに複数のクエリがある場合、そのうちの 1 つまたは複数のクエリを連続して実行するには、カーソルで対象クエリの行を選択し、 **⌘ + Enter キー**を押すか、 **[実行]**をクリックします。

    -   エディター内のすべてのクエリを順番に実行するには、 **⇧ + ⌘ + Enter を**押すか、カーソルですべてのクエリの行を選択して**「実行」**をクリックします。

    </div>

    <div label="Windows/Linux">

    Windows または Linux の場合:

    -   エディタにクエリが1つしかない場合は、それを実行するには**Ctrl + Enter**を押すか、 <svg width="1rem" height="1rem" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.70001 20.7756C6.01949 20.3926 6.00029 19.5259 6.00034 19.0422L6.00034 12.1205L6 5.33028C6 4.75247 6.00052 3.92317 6.38613 3.44138C6.83044 2.88625 7.62614 2.98501 7.95335 3.05489C8.05144 3.07584 8.14194 3.12086 8.22438 3.17798L19.2865 10.8426C19.2955 10.8489 19.304 10.8549 19.3126 10.8617C19.4069 10.9362 20 11.4314 20 12.1205C20 12.7913 19.438 13.2784 19.3212 13.3725C19.307 13.3839 19.2983 13.3902 19.2831 13.4002C18.8096 13.7133 8.57995 20.4771 8.10002 20.7756C7.60871 21.0812 7.22013 21.0683 6.70001 20.7756Z" fill="currentColor"></path></svg>**走る**。

    -   エディターに複数のクエリがある場合、そのうちの 1 つまたは複数のクエリを順番に実行するには、カーソルで対象クエリの行を選択し、 **Ctrl + Enter キー**を押すか、 **[実行]**をクリックします。

    -   エディター内のすべてのクエリを順番に実行するには、 **Shift + Ctrl + Enter**を押すか、カーソルですべてのクエリの行を選択して**[実行]**をクリックします。

    </div>
     </SimpleTab>

クエリを実行すると、ページの下部にクエリのログと結果がすぐに表示されます。

> **注記：**
>
> 返される結果のサイズ制限は 8 MiB です。

## Chat2Queryを使用してSQLクエリを書き換える {#rewrite-sql-queries-using-chat2query}

SQL エディターでは、Chat2Query を使用して既存の SQL クエリを書き換え、パフォーマンスを最適化したり、エラーを修正したり、その他の特定の要件を満たしたりすることができます。

1.  カーソルを使用して、書き換えたい SQL クエリの行を選択します。

2.  オペレーティング システムのキーボード ショートカットを使用して、書き換え用の Chat2Query を呼び出します。

    -   macOSでは<kbd>⌘</kbd> + <kbd>I</kbd>
    -   Windows または Linux では<kbd>Ctrl</kbd> + <kbd>I</kbd>

    指示を入力した後、 **Enter キー**を押して AI に書き換えを処理させます。

3.  Chat2Query を呼び出すと、提案された書き換えと次のオプションが表示されます。

    -   **承認**: これをクリックすると、提案された書き換えを承認して編集を続行します。
    -   **破棄**: 提案された書き換えが期待どおりでない場合は、これをクリックします。
    -   **再生成**: フィードバックまたは追加の指示に基づいて Chat2Query に別の書き換えを要求するには、これをクリックします。

> **注記：**
>
> Chat2QueryはAIアルゴリズムを使用して最適化と修正を提案します。クエリを確定する前に、これらの提案をよく確認することをお勧めします。

## SQL ファイルの管理 {#manage-sql-files}

SQL エディターでは、SQL クエリをさまざまな SQL ファイルに保存し、次のように SQL ファイルを管理できます。

-   SQL ファイルを追加するには、 **「SQL ファイル」**タブで**+ を**クリックします。
-   SQL ファイルの名前を変更するには、ファイル名の上にカーソルを移動し、ファイル名の横にある**[...]**をクリックして、 **[名前の変更]**を選択します。
-   SQLファイルを削除するには、ファイル名にカーソルを合わせ、ファイル名の横にある**「...」**をクリックして、 **「削除」**を選択します。 **「SQLファイル」**タブにSQLファイルが1つしかない場合は、削除できないことに注意してください。

## API経由でChat2Queryにアクセスする {#access-chat2query-via-api}

Chat2QueryにはUI経由でアクセスできるだけでなく、API経由でもアクセスできます。そのためには、まずChat2Queryデータアプリを作成する必要があります。

Chat2Query では、次のようにして Chat2Query データ アプリにアクセスしたり作成したりできます。

1.  右上隅の**[...]**をクリックし、 **[API 経由で Chat2Query にアクセス]**をクリックします。
2.  表示されたダイアログで、次のいずれかを実行します。

    -   新しい Chat2Query データ アプリを作成するには、 **[新しい Chat2Query データ アプリ]**をクリックします。
    -   既存の Chat2Query データ アプリにアクセスするには、対象のデータ アプリの名前をクリックします。

詳細については[Chat2Query APIを使い始める](/tidb-cloud/use-chat2query-api.md)参照してください。

## SQL ファイルからエンドポイントを生成する {#generate-an-endpoint-from-a-sql-file}

TiDB クラスター向けに、 TiDB Cloud はカスタム API エンドポイントを使用して HTTPS リクエスト経由でTiDB Cloudデータにアクセスできる[データサービス（ベータ版）](/tidb-cloud/data-service-overview.md)機能を提供します。SQL エディターでは、以下の手順で SQL ファイルからデータサービス (ベータ版) のエンドポイントを生成できます。

1.  カーソルをファイル名の上に移動し、ファイル名の横にある**[...]**をクリックして、 **[エンドポイントの生成]**を選択します。
2.  **[エンドポイントの生成]**ダイアログ ボックスで、エンドポイントを生成するデータ アプリを選択し、エンドポイント名を入力します。
3.  **「生成」**をクリックします。エンドポイントが生成され、その詳細ページが表示されます。

詳細については[エンドポイントを管理する](/tidb-cloud/data-service-manage-endpoint.md)参照してください。

## SQLエディタの設定を管理する {#manage-sql-editor-settings}

SQL エディターでは、次の設定を変更できます。

-   クエリ結果の最大行数
-   **スキーマ**タブにシステムデータベーススキーマを表示するかどうか

設定を変更するには、次の手順を実行します。

1.  **SQL エディター**の右上隅で、 **...**をクリックし、**設定**を選択します。
2.  必要に応じて設定を変更してください。
3.  **[保存]を**クリックします。
