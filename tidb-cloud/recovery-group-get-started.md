---
title: Get Started with Recovery Groups
summary: TiDB Cloudでリカバリ グループを作成し、その詳細を表示する方法を学習します。
---

# リカバリグループの使用を開始する {#get-started-with-recovery-groups}

このドキュメントでは、 [TiDB Cloudコンソール](https://tidbcloud.com/)使用してTiDB Cloud Dedicated クラスター上で実行されているデータベースを保護するためのリカバリグループを作成する方法について説明します。また、リカバリグループの詳細を表示する方法も示します。

## 前提条件 {#prerequisites}

-   リカバリグループは、データベースを別のクラスタに複製することで、地域的な災害からデータベースを保護します。リカバリグループを作成する前に、2つのTiDB Cloud Dedicatedクラスタが必要です。1つのクラスタはプライマリデータベースをホストし、もう1つのクラスタはプライマリデータベースのレプリカをホストします。まだクラスタを作成していない場合は、 [TiDB Cloud専用クラスタを作成する](/tidb-cloud/create-tidb-cluster.md)の手順に従って必要なクラスタを作成してください。
-   回復グループを作成するには、組織の`Organization Owner`のロールまたは対象プロジェクトの`Project Owner`ロールに属している必要があります。

> **注記**
>
> 現在、AWS でホストされているTiDB Cloud Dedicated クラスターのみがリカバリ グループをサポートしています。

## 新しい回復グループを作成する {#create-a-new-recovery-group}

回復グループを作成するには、次の手順を実行します。

1.  [TiDB Cloudコンソール](https://tidbcloud.com/)で、左上隅のコンボ ボックスを使用してターゲット プロジェクトに切り替えます。

2.  左側のナビゲーション ペインで、 **[回復グループ]**をクリックします。

3.  **[回復グループ]**ページで、 **[回復グループの作成] を**クリックします。

4.  **[回復グループの作成]**ページで、回復グループの名前を入力します。

    > **注記**
    >
    > 現在サポートされている回復力レベルは1つだけです。詳細については、 [回復力レベルについて](#about-resiliency-levels)参照してください。

5.  このグループのプライマリ クラスターとなるTiDB Cloud Dedicated クラスターを選択します。

6.  このグループのデータベースが複製されるセカンダリ クラスターとなるTiDB Cloud Dedicated クラスターを選択します。

7.  この回復グループの一部として複製するデータベースを選択します。

    > **注記**
    >
    > データベースをグループに割り当てるときは、特定のデータベースを選択するか、プライマリ クラスター (現在および将来) 上のすべての (システム以外の) データベースを選択できます。
    >
    > -   **すべてのデータベース (現在および将来) を割り当てる**と、クラスターに追加される将来のデータベースは自動的にこのリカバリ グループに含まれ、セカンダリ クラスターに複製されます。
    > -   **特定のデータベースを割り当てる**場合は、セカンダリクラスタにレプリケートするプライマリクラスタ上の特定のデータベースを選択します。将来、プライマリクラスタにデータベースが追加されても、これらの新しいデータベースはこのリカバリグループの一部として自動的にレプリケートされません。
    >
    > 初期レプリケーション中は、転送されるデータ量が多いため、プライマリクラスタまたはセカンダリクラスタでのオンラインクエリのパフォーマンスに影響が出る可能性があります。データベースの初期保護は、比較的混雑していない時間帯にスケジュールしてください。

    > **警告**
    >
    > 初期レプリケーション中に、プライマリクラスタの選択されたデータベースの内容がセカンダリクラスタのデータベースの内容に置き換えられます。セカンダリクラスタの固有の内容を保持したい場合は、リカバリグループを設定する前にバックアップを完了してください。

8.  概要情報を確認し、 **[作成]**をクリックして、新しい回復グループの一部としてデータベースの保護を開始します。

## 回復グループの詳細をビュー {#view-recovery-group-details}

リカバリ グループを作成した後、**リカバリ グループの詳細**ページでそのステータス情報を表示できます。

1.  [TiDB Cloudコンソール](https://tidbcloud.com/)で、左上隅のコンボ ボックスを使用してターゲット プロジェクトに切り替えます。

2.  左側のナビゲーション ペインで、 **[回復グループ]**をクリックします。

3.  **[回復グループ]**ページで、表示する回復グループの名前をクリックします。

    **リカバリ グループの詳細**ページには、リカバリ グループの構成の詳細、ステータス、レプリケーションのスループットとレイテンシーのメトリックなど、リカバリ グループに関する情報が表示されます。

4.  レプリケーション関係が完全に確立され、機能している場合、ステータスは**「使用可能」**と表示されます。

    > **警告**
    >
    > リカバリグループのセットアップ中に、レプリケーションプロセスのために、パターン`cloud-rg-*`に従った名前のアカウントがセカンダリクラスタに作成されます。このアカウントを削除または変更すると、レプリケーションが中断されます。

## 回復力レベルについて {#about-resiliency-levels}

回復力レベルは、リカバリグループのさまざまなシナリオにおけるデータ読み取りの一貫性特性を定義します。現在、 TiDB Cloud は以下の回復力レベルのみを提供しています。

-   整合性は保証されません。リカバリグループのレプリケーション中、下流クラスタはトランザクションの整合性読み取りを保証しません。上流クラスタが利用できなくなった場合、下流クラスタのデータをトランザクションの整合性のある状態に復元することはできません。

TiDB Cloud は、近い将来、次の 2 つの追加の回復力レベルを提供する予定です。

-   最終的な整合性。リカバリグループのレプリケーション中、下流クラスターはトランザクションの整合性読み取りを保証しません。ただし、上流クラスターが利用できなくなった場合は、下流クラスターのデータをトランザクションの整合性が保たれた状態に復元できます。
-   ほぼリアルタイムの整合性。リカバリグループのレプリケーション中、下流クラスタはほぼリアルタイムのトランザクション整合性読み取りを提供します。上流クラスタが利用できなくなった場合でも、下流クラスタのデータをトランザクション整合性状態に復元できます。

## 次は何？ {#what-s-next}

リカバリグループを作成したら、フェイルオーバーと再保護の操作について理解しておくことをお勧めします。これらの操作は、レプリケートされたデータベースのプライマリクラスターをあるクラスターから別のクラスターに**フェイルオーバーし**、その後、反対方向のレプリケーションを再確立してフェイルオーバーされたデータベース**を再保護する**ために使用されます。

-   [データベースのフェイルオーバーと再保護](/tidb-cloud/recovery-group-failover.md)
