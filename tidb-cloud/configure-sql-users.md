---
title: Manage Database Users and Roles
summary: TiDB Cloudコンソールでデータベース ユーザーとロールを管理する方法を学習します。
---

# データベースユーザーとロールの管理 {#manage-database-users-and-roles}

このドキュメントでは、 [TiDB Cloudコンソール](https://tidbcloud.com/)の**SQL ユーザー**ページを使用してデータベース ユーザーとロールを管理する方法について説明します。

> **注記：**
>
> -   **SQLユーザー**ページはベータ版であり、リクエストに応じてのみご利用いただけます。この機能をリクエストするには、 [TiDB Cloudコンソール](https://tidbcloud.com)の右下にある**「？」**をクリックし、「**サポートをリクエスト**」をクリックしてください。次に、 **「説明」**欄に「SQLユーザーページへの申請」と入力し、 **「送信」を**クリックしてください。
> -   データベース ユーザーとロールは[組織とプロジェクトのユーザーと役割](/tidb-cloud/manage-user-access.md)とは独立しています。データベース ユーザーは TiDB クラスター内のデータベースにアクセスするために使用されますが、組織ユーザーとプロジェクト ユーザーは[TiDB Cloudコンソール](https://tidbcloud.com/)内の組織とプロジェクトにアクセスするために使用されます。
> -   **SQLユーザー**ページに加えて、SQLクライアントを使用してクラスターに接続し、SQL文を記述することで、データベースユーザーとロールを管理することもできます。詳細については、 [TiDB ユーザーアカウント管理](https://docs.pingcap.com/tidb/dev/user-account-management)ご覧ください。

## データベースユーザーの役割 {#roles-of-database-users}

TiDB Cloudでは、ロールベースのアクセス制御のために、組み込みロールと複数のカスタム ロール (使用可能な場合) の両方を SQL ユーザーに付与できます。

-   組み込みロール

    TiDB Cloud は、SQL ユーザーのデータベースアクセスを制御するために、以下の組み込みロールを提供しています。組み込みロールのいずれかを SQL ユーザーに付与できます。

    -   `Database Admin`
    -   `Database Read-Write`
    -   `Database Read-Only`

-   カスタムロール

    組み込みロールに加えて、クラスターに[`CREATE ROLE`](/sql-statements/sql-statement-create-role.md)ステートメントを使用して作成されたカスタム ロールがある場合は、 TiDB Cloudコンソールで SQL ユーザーを作成または編集するときに、これらのカスタム ロールを SQL ユーザーに付与することもできます。

SQL ユーザーに組み込みロールと複数のカスタム ロールの両方が付与されると、ユーザーの権限はこれらのロールから派生したすべての権限の結合になります。

## 前提条件 {#prerequisites}

-   **SQL ユーザー**ページを使用してデータベース ユーザーとロールを管理するには、組織の`Organization Owner`ロールまたはプロジェクトの`Project Owner`ロールに属している必要があります。
-   プロジェクトの`Project Data Access Read-Write`または`Project Data Access Read-Only`ロールの場合は、そのプロジェクトの**SQL ユーザー**ページでのみデータベース ユーザーを表示できます。

## SQL ユーザーをビュー {#view-sql-users}

クラスターの SQL ユーザーを表示するには、次の手順を実行します。

1.  プロジェクトの[**クラスター**](https://tidbcloud.com/project/clusters)ページで、ターゲット クラスターの名前をクリックして、概要ページに移動します。

    > **ヒント：**
    >
    > 左上隅のコンボ ボックスを使用して、組織、プロジェクト、クラスターを切り替えることができます。

2.  左側のナビゲーション ペインで、 **[設定]** &gt; **[SQL ユーザー] を**クリックします。

## SQLユーザーを作成する {#create-a-sql-user}

クラスターの SQL ユーザーを作成するには、次の手順を実行します。

1.  クラスターの[**SQL ユーザー**](/tidb-cloud/configure-sql-users.md#view-sql-users)ページに移動します。

2.  右上隅の**「SQL ユーザーの作成」を**クリックします。

    SQL ユーザー構成のダイアログが表示されます。

3.  ダイアログで、次のように SQL ユーザーの情報を入力します。

    1.  SQL ユーザーの名前を入力します。
    2.  SQL ユーザーのパスワードを作成するか、 TiDB Cloudでユーザーのパスワードを自動的に生成します。
    3.  SQL ユーザーにロールを付与します。

        -   **組み込みロール**:**組み込みロール ドロップダウン リストで SQL ユーザーの組み込み**ロールを選択する必要があります。

        -   **カスタムロール**: クラスターに[`CREATE ROLE`](/sql-statements/sql-statement-create-role.md)ステートメントを使用して作成されたカスタムロールがある場合は、 **「カスタムロール」**ドロップダウンリストからロールを選択することで、SQLユーザーにカスタムロールを付与できます。それ以外の場合、 **「カスタムロール」**ドロップダウンリストは表示されません。

    各 SQL ユーザーに対して、組み込みロールと複数のカスタム ロール (存在する場合) を付与できます。

4.  **[作成]を**クリックします。

## SQLユーザーを編集する {#edit-a-sql-user}

SQL ユーザーのパスワードまたはロールを編集するには、次の手順を実行します。

1.  クラスターの[**SQL ユーザー**](/tidb-cloud/configure-sql-users.md#view-sql-users)ページに移動します。

2.  編集する SQL ユーザーの行で、 **[アクション**] 列の**[...]**をクリックし、 **[編集] を**クリックします。

    SQL ユーザー構成のダイアログが表示されます。

3.  ダイアログで、必要に応じてユーザーのパスワードとロールを編集し、 **「更新」**をクリックします。

    > **注記：**
    >
    > デフォルトユーザー`<prefix>.root`のロールは変更できません。パスワードのみ変更できます。

## SQLユーザーを削除する {#delete-a-sql-user}

SQL ユーザーを削除するには、次の手順を実行します。

1.  クラスターの[**SQL ユーザー**](/tidb-cloud/configure-sql-users.md#view-sql-users)ページに移動します。

2.  削除する SQL ユーザーの行で、 **[アクション**] 列の**[...]**をクリックし、 **[削除]**をクリックします。

    > **注記：**
    >
    > デフォルトの`<prefix>.root`ユーザーは削除をサポートしていません。

3.  削除を確認します。
