---
title: Security
summary: TiDB Cloudのセキュリティ概念について学習します。
---

# Security {#security}

TiDB Cloudは、データ保護、アクセス制御の強化、そして最新のコンプライアンス基準への準拠を目的とした、堅牢で柔軟なセキュリティフレームワークを提供します。このフレームワークは、高度なセキュリティ機能と運用効率を融合し、組織のニーズを大規模にサポートします。

**主要コンポーネント**

-   **アイデンティティおよびアクセス管理 (IAM )** : TiDB Cloudコンソールとデータベース環境の両方に対するセキュリティで柔軟な認証および権限管理。

-   **ネットワーク アクセス制御**: プライベート エンドポイント、VPC ピアリング、TLS 暗号化、IP アクセス リストなどの構成可能な接続オプション。

-   **データ アクセス制御**: 保存中のデータを保護するための顧客管理暗号化キー (CMEK) などの高度な暗号化機能。

-   **監査ログ**: コンソールアクションとデータベース操作の両方に対する包括的なアクティビティ追跡により、説明責任と透明性を確保します。

これらの機能を統合することで、 TiDB Cloud は組織が機密データを保護し、アクセス制御を合理化し、セキュリティ運用を最適化できるようにします。

## アイデンティティとアクセス管理（IAM） {#identity-and-access-management-iam}

TiDB Cloud は、 Identity and Access Management (IAM) を採用し、コンソール環境とデータベース環境の両方でユーザー ID と権限を安全かつ効率的に管理します。IAM 機能は、認証オプション、ロールベースのアクセス制御、階層型リソース構造を組み合わせることで、組織のセキュリティとコンプライアンスのニーズを満たすように設計されています。

### TiDB Cloudユーザーアカウント {#tidb-cloud-user-accounts}

TiDB Cloudのユーザーアカウントは、IDとリソースへのアクセスを管理するための基盤です。各アカウントはプラットフォーム内の個人またはエンティティを表し、組織のニーズに合わせて複数の認証方法をサポートしています。

-   **デフォルトのユーザー名とパスワード**

    -   ユーザーは電子メール アドレスとパスワードを使用してアカウントを作成します。

    -   外部 ID プロバイダーを持たない小規模なチームまたは個人に適しています。

-   **標準SSO認証**

    -   ユーザーは GitHub、Google、または Microsoft アカウントを使用してログインします。

    -   すべての組織に対してデフォルトで有効になっています。

    -   **ベスト プラクティス**: 小規模なチームや厳格なコンプライアンス ニーズのないチームに使用します。

    -   詳細については[標準SSO認証](/tidb-cloud/tidb-cloud-sso-authentication.md)参照してください。

-   **組織のSSO認証**

    -   OIDC または SAML プロトコルを使用して企業 ID プロバイダー (IdP) と統合します。

    -   MFA の強制、パスワード有効期限ポリシー、ドメイン制限などの機能を有効にします。

    -   **ベスト プラクティス**: 高度なセキュリティとコンプライアンスの要件を持つ大規模な組織に最適です。

    -   詳細については[組織のSSO認証](/tidb-cloud/tidb-cloud-org-sso-authentication.md)参照してください。

### データベースアクセス制御 {#database-access-control}

TiDB Cloudは、ユーザーベースおよびロールベースの権限設定によるきめ細かなデータベースアクセス制御を提供します。これらのメカニズムにより、管理者は組織のセキュリティポリシーへの準拠を確保しながら、データオブジェクトとスキーマへのアクセスを安全に管理できます。

-   **ベストプラクティス:**

    -   ユーザーの役割に必要な権限のみを付与することで、最小権限の原則を実装します。

    -   変化する組織の要件に合わせて、ユーザー アクセスを定期的に監査および更新します。

### データベースユーザーアカウント {#database-user-accounts}

データベース ユーザー アカウントは`mysql.user`システム テーブルに保存され、ユーザー名とクライアント ホストによって一意に識別されます。

データベースの初期化中に、TiDB は自動的にデフォルトのアカウントを作成します: `'root'@'%'` 。

詳細については[TiDB ユーザーアカウント管理](https://docs.pingcap.com/tidb/stable/user-account-management#user-names-and-passwords)参照してください。

### SQL プロキシアカウント {#sql-proxy-accounts}

SQL Proxy アカウントは、 TiDB Cloudによって自動的に生成される特別な目的のアカウントです。これらのアカウントの主な特徴は次のとおりです。

-   **TiDB Cloudユーザー アカウントにリンク:**各 SQL Proxy アカウントは、特定のTiDB Cloudユーザーに対応します。

-   **ロールにマップされています:** SQL プロキシ アカウントには`role_admin`ロールが付与されます。

-   **トークンベース:** SQL プロキシ アカウントは、パスワードの代わりに安全な JWT トークンを使用し、 TiDB Cloudデータ サービスまたは SQL エディターを介したシームレスで制限されたアクセスを保証します。

### TiDB の権限とロール {#tidb-privileges-and-roles}

TiDBの権限管理システムはMySQL 5.7をベースにしており、データベースオブジェクトへのきめ細かなアクセスを可能にします。同時に、TiDBはMySQL 8.0のRBACと動的権限メカニズムも導入しています。これにより、きめ細かで便利なデータベース権限管理が可能になります。

**静的権限**

-   テーブル、ビュー、インデックス、ユーザー、その他のオブジェクトを含むデータベース オブジェクトに基づくきめ細かなアクセス制御をサポートします。

-   *例: 特定のテーブルに対する SELECT権限をユーザーに付与します。*

**動的権限**

-   データベース管理権限の合理的な分割をサポートし、システム管理権限のきめ細かな制御を実現します。

-   例: より広範な管理権限を持たないデータベースのバックアップを管理するアカウントに`BACKUP_ADMIN`割り当てます。

**SQL ロール (RBAC)**

-   権限をユーザーに割り当てることができるロールにグループ化することで、権限管理と動的な更新を効率化できます。

-   例: アナリストに読み取り/書き込みロールを割り当てて、ユーザー アクセス制御を簡素化します。

このシステムは、組織のポリシーに準拠しながら、ユーザー アクセスを管理する柔軟性と精度を保証します。

### 組織とプロジェクト {#organization-and-projects}

TiDB Cloud は、組織、プロジェクト、クラスターという階層構造でユーザーとリソースを管理します。

**組織**

-   リソース、ロール、課金を管理するための最上位エンティティ。

-   組織の所有者には、プロジェクトの作成やロールの割り当てなど、完全な権限が与えられます。

**プロジェクト**

-   クラスターとプロジェクト固有の構成を含む組織の区分。

-   範囲内のクラスターを担当するプロジェクト所有者によって管理されます。

**クラスター**

-   プロジェクト内の個々のデータベース インスタンス。

### 構造例 {#example-structure}

    - Your organization
        - Project 1
            - Cluster 1
            - Cluster 2
        - Project 2
            - Cluster 3
            - Cluster 4
        - Project 3
            - Cluster 5
            - Cluster 6

### 主な特徴 {#key-features}

-   **きめ細かな権限**:
    -   正確なアクセス制御のために、組織レベルとプロジェクトレベルの両方で特定のロールを割り当てます。

    -   役割の割り当てを慎重に計画することで、柔軟性とセキュリティを確保します。

-   **請求管理**：
    -   請求は組織レベルで統合され、プロジェクトごとに詳細な内訳が提供されます。

### アイデンティティとアクセス管理（IAM）ロール {#identity-and-access-management-iam-roles}

TiDB Cloud は、組織やプロジェクト全体の権限を管理するためのロールベースのアクセス制御を提供します。

-   **<a href="/tidb-cloud/manage-user-access.md#organization-roles">組織レベルの役割</a>**: 請求やプロジェクトの作成など、組織全体を管理するための権限を付与します。

-   **<a href="/tidb-cloud/manage-user-access.md#project-roles">プロジェクト レベルのロール</a>**: クラスターや構成など、特定のプロジェクトを管理するための権限を割り当てます。

## ネットワークアクセス制御 {#network-access-control}

TiDB Cloudは、堅牢なネットワークアクセス制御により、安全なクラスタ接続とデータ転送を保証します。主な機能は以下のとおりです。

### プライベートエンドポイント {#private-endpoints}

-   仮想プライベート クラウド (VPC) 内の SQL クライアントからTiDB Cloud Dedicated クラスターへの安全な接続を有効にします。

-   [AWS プライベートリンク](/tidb-cloud/set-up-private-endpoint-connections.md) 、 [Azure プライベート リンク](/tidb-cloud/set-up-private-endpoint-connections-on-azure.md) 、 [Google Cloud プライベート サービス接続](/tidb-cloud/set-up-private-endpoint-connections-on-google-cloud.md)でサポートされています。

**ベスト プラクティス:**本番ではプライベート エンドポイントを使用して公開を最小限に抑え、構成を定期的に確認します。

### TLS (トランスポート層Security) {#tls-transport-layer-security}

-   クライアントとサーバー間の通信を暗号化して、データ転送を安全にします。

-   [サーバーレス](/tidb-cloud/secure-connections-to-serverless-clusters.md)と[ひたむきな](/tidb-cloud/tidb-cloud-tls-connect-to-dedicated.md)クラスターの両方にセットアップ ガイドが用意されています。

**ベスト プラクティス:** TLS 証明書が最新であることを確認し、定期的にローテーションします。

### VPCピアリング {#vpc-peering}

-   仮想プライベート クラウド間のプライベート接続を確立し、安全でシームレスな通信を可能にします。

-   詳細については[VPC ピアリング経由でTiDB Cloud Dedicated に接続する](/tidb-cloud/set-up-vpc-peering-connections.md)参照してください。

**ベスト プラクティス:**重要なワークロードに使用して、パブリック インターネットへの露出を回避し、パフォーマンスを監視します。

### IPアクセスリスト {#ip-access-list}

-   信頼できる IP アドレスへのクラスター アクセスを制限するファイアウォールとして機能します。

-   詳細については[IPアクセスリストを設定する](/tidb-cloud/configure-ip-access-list.md)参照してください。

**ベスト プラクティス:**セキュリティを維持するために、アクセス リストを定期的に監査して更新します。

## データアクセス制御 {#data-access-control}

TiDB Cloud は、高度な暗号化機能を使用して静的データを保護し、セキュリティと業界規制へのコンプライアンスを確保します。

**顧客管理暗号化キー（CMEK）**

-   組織はTiDB Cloud Dedicated クラスターの暗号化を完全に制御できます。

-   有効にすると、静的データとバックアップが CMEK キーで暗号化されます。

-   CMEK のないTiDB Cloud Dedicated クラスターの場合、 TiDB Cloud はエスクロー キーを使用します。TiDB TiDB Cloud Serverless クラスターはエスクロー キーのみに依存します。

**ベストプラクティス:**

-   セキュリティを強化し、コンプライアンス標準を満たすために、CMEK キーを定期的にローテーションします。

-   保護を強化するために、CMEK キーを使用してバックアップを一貫して暗号化します。

-   HIPAA や GDPR などの厳格なコンプライアンスが求められる業界向けに CMEK を活用します。

詳細については[顧客管理の暗号化キーを使用した保存時の暗号化](/tidb-cloud/tidb-cloud-encrypt-cmek.md)参照してください。

## 監査ログ {#audit-logging}

TiDB Cloud は、ユーザー アクティビティとデータベース操作を監視するための包括的な監査ログを提供し、セキュリティ、アカウンタビリティ、コンプライアンスを確保します。

### コンソール監査ログ {#console-audit-logging}

ユーザーの招待やクラスターの管理など、 TiDB Cloudコンソールでの主要なアクションを追跡します。

**ベストプラクティス:**

-   ログを SIEM ツールと統合して、リアルタイムの監視とアラートを実現します。

-   コンプライアンス要件を満たす保持ポリシーを設定します。

### データベース監査ログ {#database-audit-logging}

実行された SQL ステートメントやユーザー アクセスなど、詳細なデータベース操作を記録します。

**ベストプラクティス:**

-   異常なアクティビティや不正アクセスがないか定期的にログを確認します。

-   コンプライアンス レポートとフォレンジック分析にログを使用します。

詳細については、 [コンソール監査ログ](/tidb-cloud/tidb-cloud-console-auditing.md)および[データベース監査ログ](/tidb-cloud/tidb-cloud-auditing.md)参照してください。
