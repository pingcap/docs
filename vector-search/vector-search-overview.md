---
title: Vector Search Overview
summary: TiDBのベクター検索について学びましょう。この機能は、ドキュメント、画像、音声、動画など、様々なデータタイプにわたってセマンティックな類似性検索を実行するための高度な検索ソリューションを提供します。
---

# ベクトル検索の概要 {#vector-search-overview}

ベクター検索は、ドキュメント、画像、音声、動画など、多様なデータタイプを対象としたセマンティック類似性検索のための強力なソリューションを提供します。開発者はMySQLの専門知識を活用し、生成型AI機能を備えたスケーラブルなアプリケーションを構築できるため、高度な検索機能の統合が簡素化されます。

<CustomContent platform="tidb">

> **警告：**
>
> ベクトル検索機能は実験的です。本番環境での使用は推奨されません。この機能は予告なく変更される可能性があります。バグを発見した場合は、GitHubで[問題](https://github.com/pingcap/tidb/issues)報告を行ってください。

</CustomContent>

<CustomContent platform="tidb-cloud">

> **注記：**
>
> ベクター検索機能はベータ版です。予告なく変更される可能性があります。バグを発見した場合は、GitHubで[問題](https://github.com/pingcap/tidb/issues)報告を行ってください。

</CustomContent>

> **注記：**
>
> ベクトル検索機能は、TiDB Self-Managed、 [TiDB Cloudスターター](https://docs.pingcap.com/tidbcloud/select-cluster-tier#starter) [TiDB Cloudエッセンシャル](https://docs.pingcap.com/tidbcloud/select-cluster-tier#essential)利用できます[TiDB Cloud専用](https://docs.pingcap.com/tidbcloud/select-cluster-tier#tidb-cloud-dedicated) Self-ManagedおよびTiDB Cloud Dedicatedの場合、TiDBバージョンはv8.4.0以降である必要があります（v8.5.0以降を推奨）。

## 概念 {#concepts}

ベクター検索は、データの意味を優先して関連性の高い結果を提供する検索方法です。

キーワードの完全一致と単語の出現頻度に依存する従来の全文検索とは異なり、ベクトル検索は、テキスト、画像、音声などの様々なデータタイプを高次元ベクトルに変換し、それらのベクトル間の類似性に基づいてクエリを実行します。この検索手法は、データの意味と文脈情報を捉えることで、ユーザーの意図をより正確に理解することを可能にします。

検索用語がデータベースの内容と完全に一致しない場合でも、ベクター検索ではデータのセマンティクスを分析することで、ユーザーの意図に一致する結果を提供できます。

例えば、「泳ぐ動物」という全文検索では、そのキーワードに完全一致する結果のみが返されます。一方、ベクター検索では、魚やアヒルなど、他の泳ぐ動物の検索結果が、完全一致するキーワードに含まれていなくても返されます。

### ベクトル埋め込み {#vector-embedding}

ベクトル埋め込み（埋め込みとも呼ばれる）は、高次元空間における現実世界のオブジェクトを表す数値列です。文書、画像、音声、動画などの非構造化データの意味と文脈を捉えます。

ベクトル埋め込みは機械学習に不可欠であり、意味的類似性検索の基盤として機能します。

TiDBは、ベクトル埋め込みのstorageと取得を最適化し、AIアプリケーションにおけるベクトル埋め込みの活用を強化するために設計された[ベクトルデータ型](/vector-search/vector-search-data-types.md)と[ベクター検索インデックス](/vector-search/vector-search-index.md)導入しました。ベクトル埋め込みをTiDBに保存し、ベクトル検索クエリを実行して、これらのデータ型を使用して最も関連性の高いデータを見つけることができます。

### 埋め込みモデル {#embedding-model}

埋め込みモデルは、データを[ベクトル埋め込み](#vector-embedding)に変換するアルゴリズムです。

セマンティック検索結果の精度と関連性を確保するには、適切な埋め込みモデルを選択することが重要です。非構造化テキストデータの場合、 [大規模テキスト埋め込みベンチマーク（MTEB）リーダーボード](https://huggingface.co/spaces/mteb/leaderboard)でトップクラスのパフォーマンスを誇るテキスト埋め込みモデルを見つけることができます。

特定のデータ タイプのベクトル埋め込みを生成する方法については、統合チュートリアルまたは埋め込みモデルの例を参照してください。

## ベクトル検索の仕組み {#how-vector-search-works}

生データをベクトル埋め込みに変換して TiDB に保存した後、アプリケーションはベクトル検索クエリを実行して、ユーザーのクエリに最も意味的または文脈的に関連するデータを見つけることができます。

TiDBベクトル検索は、与えられたベクトルとデータベースに格納されているベクトル間の距離を[距離関数](/vector-search/vector-search-functions-and-operators.md)用いて計算し、上位k近傍（KNN）ベクトルを識別します。クエリ内で与えられたベクトルに最も近いベクトルは、意味的に最も類似したデータを表します。

![The Schematic TiDB Vector Search](/media/vector-search/embedding-search.png)

ベクトル検索機能を統合したリレーショナルデータベースであるTiDBでは、データとそれに対応するベクトル表現（つまりベクトル埋め込み）を1つのデータベースにまとめて保存できます。storage方法は以下から選択できます。

-   データとそれに対応するベクトル表現を同じテーブルの異なる列に格納します。
-   データとそれに対応するベクトル表現を別々のテーブルに保存します。これにより、データを取得する際に、 `JOIN`のクエリでテーブルを結合できます。

## ユースケース {#use-cases}

### 検索拡張生成（RAG） {#retrieval-augmented-generation-rag}

検索拡張生成（RAG）は、大規模言語モデル（LLM）の出力を最適化するために設計されたアーキテクチャです。ベクトル検索を用いることで、RAGアプリケーションはベクトル埋め込みをデータベースに保存し、LLMが応答を生成する際に関連文書を追加のコンテキストとして取得することができます。これにより、回答の品質と関連性が向上します。

### セマンティック検索 {#semantic-search}

セマンティック検索は、単にキーワードを一致させるのではなく、クエリの意味に基づいて結果を返す検索技術です。埋め込みを用いて、異なる言語や様々な種類のデータ（テキスト、画像、音声など）の意味を解釈します。そして、ベクトル検索アルゴリズムはこれらの埋め込みを用いて、ユーザーのクエリを満たす最も関連性の高いデータを見つけます。

### 推奨エンジン {#recommendation-engine}

レコメンデーションエンジンとは、ユーザーにとって関連性が高くパーソナライズされたコンテンツ、商品、またはサービスをプロアクティブに提案するシステムです。これは、ユーザーの行動や好みを反映した埋め込み情報を作成することで実現されます。これらの埋め込み情報は、他のユーザーが操作したり興味を示したりした類似アイテムを特定するのに役立ちます。これにより、レコメンデーションがユーザーにとって関連性が高く魅力的なものになる可能性が高まります。

## 参照 {#see-also}

TiDB Vector Search を使い始めるには、次のドキュメントを参照してください。

-   [Pythonを使ったベクトル検索を始める](/vector-search/vector-search-get-started-using-python.md)
-   [SQLを使用したベクトル検索を始める](/vector-search/vector-search-get-started-using-sql.md)
